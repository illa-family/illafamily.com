---
title: Accrochage de l'API Face
metaTitle: Doc d'int√©gration de face d'embrochage | Nuage ILLA
desc: Apprenez √† utiliser l'API Face d'Hugging dans ILLA
tagCategory: doc_menu_hugging_face_api_click
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/213?languages=fr&filter=basic&value=0
categoryName: üî® Int√©grations
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>API Face c√¢linage</h2>

Hugging Face est le Github de la communaut√© d'apprentissage automatique, avec des centaines de milliers de mod√®les pr√©-form√©s et 10 000 jeux de donn√©es actuellement disponibles. Vous pouvez acc√©der librement √† des mod√®les et des jeux de donn√©es partag√©s par d'autres experts de l'industrie ou h√©berger et d√©ployer vos mod√®les sur Hugging Face.

Quelques exemples de mod√®les disponibles dans la biblioth√®que de Hugging Face incluent :

1.  BERT (Bidirectional Encoder Representations from Transformers): BERT est un mod√®le bas√© sur le transformateur d√©velopp√© par Google pour diverses t√¢ches NLP. Il a obtenu des r√©sultats √† la pointe de la technologie dans la compr√©hension des langues et des t√¢ches de traduction automatique.
2.  GPT (Generative Pre-training Transformer): GPT est un autre mod√®le bas√© sur les transformateurs d√©velopp√© par OpenAI. Il est principalement utilis√© pour les t√¢ches de g√©n√©ration de langues, telles que la traduction et la r√©capitulation du texte.
3.  RoBERTa (Robustly Optimized BERT): RoBERTa est une extension du mod√®le BERT qui a √©t√© d√©velopp√©e pour am√©liorer les performances de BERT sur diverses t√¢ches NLP.
4.  XLNet (eXtraordinary LanguageNet) : XLNet est un mod√®le bas√© sur les transformateurs d√©velopp√© par Google et con√ßu pour am√©liorer les performances des mod√®les de transformateurs sur les t√¢ches de compr√©hension du langage.
5.  ALBERT (A Lite BERT): ALBERT est une version du mod√®le BERT qui a √©t√© d√©velopp√©e pour √™tre plus efficace et plus rapide √† former tout en maintenant de bonnes performances sur les t√¢ches NLP.

### Ce que vous pouvez faire avec Hugging Face dans ILLA Builder

En Hugging Face, plus de 130 000 mod√®les d'apprentissage automatique sont disponibles via l'API publique, que vous pouvez utiliser et tester gratuitement sur <https://huggingface.co/models>. De plus, si vous avez besoin d'une solution pour les sc√©narios de production, vous pouvez utiliser les points de terminaison d'inf√©rence de la face Huggingfront, qui peuvent √™tre d√©ploy√©s et acc√©d√©s √† <https://huggingface.co/docs/inference-endpoints/index>.

ILLA Builder fournit des douzaines de composants front-end couramment utilis√©s, vous permettant de construire rapidement diff√©rentes interfaces front-end en fonction de vos besoins sp√©cifiques. En m√™me temps, ILLA offre une connexion √† Face, vous permettant de vous connecter rapidement √† l'API, d'envoyer des demandes et de recevoir des donn√©es retourn√©es. En connectant l'API et les composants front-end, vous pouvez impl√©menter l'exigence que les utilisateurs puissent entrer du contenu via le front-end et le soumettre √† l'API. L'API retourne le contenu g√©n√©r√© √† afficher sur le front-end.

### Configurer les ressources de l'API Face

| Propri√©t√©s | Requis      | Libell√©                                                                                               |
| ---------- | ----------- | ----------------------------------------------------------------------------------------------------- |
| Nom        | Obligatoire | D√©finir un nom de ressource qui sera utilis√© pour l'affichage dans ILLA                               |
| Jeton      | Obligatoire | Acc√®s utilisateur ou jeton d'API. Vous pouvez l'obtenir dans https://huggingface.co/settings/tokens.  |

### Configurer l'action

| Propri√©t√©s        | Requis      | Libell√©                                                                                                                                                                                                                                                                                   |
| ----------------- | ----------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ID du mod√®le      | Obligatoire | Rechercher des mod√®les : https://huggingface.co/models                                                                                                                                                                                                                                    |
| Type de param√®tre | Obligatoire | Le type de param√®tre de votre terminal. Par exemple, si votre point de terminaison a besoin d'une entr√©e de texte, choisissez le param√®tre "entr√©es" avec le texte. Si votre point de terminaison a besoin d'une entr√©e JSON, choisissez le param√®tre ¬´ Entr√©e ¬ª avec JSON ou cl√©-valeur. |
| Param√®tre         | Obligatoire | Entrez votre param√®tre. Utilisez {{ componentName.value }} pour utiliser les donn√©es des composants.                                                                                                                                                                                      |

# Comment utiliser la face d'embrochage dans le constructeur ILLA

## Usecase 1

### √âtape 1 : Construire l'interface utilisateur avec des composants sur le constructeur ILLA

Ici, nous allons montrer comment construire un texte simple qui saisit l'invite de texte et une question de texte pour afficher une r√©ponse texte. 

Vous avez besoin de deux composants textarea √©tiquet√©s comme "Entrez le texte original" et "Entrez la question ici", et le composant bouton √©tiquet√©s comme "D√©marrer", et un composant de zone de texte √©tiquet√© comme "Anwer" pour le texte de sortie. L'image suivante est un exemple comme d√©crit ci-dessus.

![hfapi](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi1.png)

### √âtape 2 : Cr√©er une ressource de face d'embrochage et configurer les actions

Cliquez sur + Nouveau dans la liste d‚Äôactions et s√©lectionnez l‚ÄôAPI d‚ÄôInf√©rence de Visage.

![hfapi2](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi2.png)

Remplissez le formulaire pour vous connecter √† votre Face:

Nom : Le nom qui sera affich√© dans ILLA

Token: Rendez-vous dans vos [param√®tres de profil](https://huggingface.co/settings/tokens)

![hfapi3](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi3.png)

Confirmez les informations du mod√®le dans la face d'accrochage avant de configurer les actions :

S√©lectionnez un mod√®le dans la \[page du mod√®le de visage Huggingface.co/models)

Utilisons [deepset/roberta-base-squad2](https://huggingface.co/deepset/roberta-base-squad2) comme exemple. Entrez la page de d√©tail > cliquez sur D√©ployer > Cliquez sur Inf√©rence API

![hfapi4](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi4.png)

Les param√®tres apr√®s `‚Äúentr√©es‚Äù` sont ce que vous devez remplir en ILLA. 

![hfapi5](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi5.png)

Dans ILLA Builder, nous devons remplir l'ID du mod√®le et le param√®tre. En prenant le mod√®le ci-dessus comme exemple, le `‚Äúinputs‚Äù` est une paire cl√©-valeur, donc nous pouvons le remplir avec cl√©-valeur ou JSON. 

![hfapi6](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi6.png)

![hfapi7](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi7.png)

Et nous prenons √©galement en charge l'entr√©e de texte et l'entr√©e binaire qui peut r√©pondre √† toutes les connexions de l'API d'Inf√©rence de Face Hugging.

### √âtape 3 : Connecter les actions aux composants

Pour passer l'entr√©e front-end de l'utilisateur √† l'API, vous pouvez utiliser {{ pour r√©cup√©rer les donn√©es entr√©es dans le composant. Par exemple, input2 est le composant de saisie de la question et input1 est le composant de contexte d'entr√©e, nous pouvons remplir `question` et `context` dans la cl√©, et remplir `{{ input.value }}` dans la valeur:

```jsx
{
"question": {{input2.value}},
"context": {{input1.value}}
}
```

Avant d'afficher les donn√©es de sortie de l'Action dans le composant frontal, nous devons confirmer dans quel champ la sortie des diff√©rents mod√®les est plac√©e. Toujours en prenant comme exemple `deepset/roberta-base-squad2`, les r√©sultats sont les suivants:

![hfapi8](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi8.png)

Donc nous pouvons obtenir la r√©ponse avec `{{ textQuestion.data[0].answer }}`(la `textQuestion` est le nom de l'action). 

![hfapi9](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi9.png)

### D√©mo

![hfapi10](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi10.gif)

![hfapi11](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi11.gif)

## Usecase 2

Ici, nous allons montrer comment utiliser le mod√®le de diffusion stable thorugh de l'API Hugging Face dans Illa Cloud.

**√âtape 1 : Construire une interface frontale**

Nous construisons une interface frontale en utilisant une approche de glisser-d√©poser pour placer des composants essentiels tels que les champs d'entr√©e, les boutons, les images et plus encore. Apr√®s avoir ajust√© les styles des composants, nous obtenons la page Web compl√®te suivante.

![hugging_layout](https://cdn.illacloud.com/official-website/img/official-site/components/hugging_layout.png)

**√âtape 2: Cr√©ation de ressources et d'actions**

Nous √©tablissons des ressources et des actions en utilisant l‚ÄôAPI d‚ÄôInf√©rence pour se connecter au mod√®le Stable Diffusion. Deux mod√®les peuvent √™tre utilis√©s : `runwayml/stable-diffusion-v1-5` et `stabilityai/stable-diffusion-2-1`.

Choisissez l'API "Accrochage des Inf√©rences de Visage" √† cet effet.

![action_list](https://cdn.illacloud.com/official-website/img/official-site/components/action_list.png)

Indiquez un nom pour cette ressource et entrez votre jeton depuis la plate-forme de la face d'embouteillage.

![hugging_config](https://cdn.illacloud.com/official-website/img/official-site/components/hugging_config.png)

Dans le panneau de configuration de l'action, veuillez entrer l'ID du mod√®le et le param√®tre. Nous allons r√©cup√©rer le mod√®le s√©lectionn√© √† partir de radioGroup1, alors remplissez l'ID du mod√®le en tant que `{{radioGroup1.value}}` . Pour l'entr√©e, puisqu'elle est obtenue √† partir du champ d'entr√©e, remplissez le param√®tre comme `{{input1.value}}`. La configuration devrait √™tre comme indiqu√© dans l'image suivante.

![hugging_demo](https://cdn.illacloud.com/official-website/img/official-site/components/hugging_demo.png)

Nous essayons de saisir "Un robot mecha dans un favela dans le style expressionniste" dans le composant `input` et de lancer l'Action. L'ex√©cution qui en r√©sulte est la suivante. √Ä partir du panneau de gauche, vous pouvez observer les donn√©es disponibles qui peuvent √™tre appel√©es, y compris `base64binary` et `dataURI`.

![hugging_output](https://cdn.illacloud.com/official-website/img/official-site/components/hugging_output.png)

**√âtape 3: Affichage des donn√©es sur les composants**

Pour afficher l'image obtenue √† partir de l'√©tape 2, nous modifions la source d'image du composant d'image √† `{{generateInput.fileData.dataURI}}`. Cela nous permettra de montrer l'image g√©n√©r√©e.

![hugging_display](https://cdn.illacloud.com/official-website/img/official-site/components/hugging_display.png)

**√âtape 4: Ex√©cuter l'action avec des composants**

Pour ex√©cuter l'action cr√©√©e √† l'√©tape 2 lorsque le composant de bouton est cliqu√©, ajoutez un gestionnaire d'√©v√©nements au composant de bouton.

![hugging_event_config](https://cdn.illacloud.com/official-website/img/official-site/components/hugging_event_config.png)

**√âtape 5 : Tester**

En suivant les quatre √©tapes pr√©c√©dentes, vous pouvez utiliser des composants et des sources de donn√©es suppl√©mentaires pour accomplir d'autres t√¢ches et construire un outil plus complet. Par exemple, vous pouvez utiliser d'autres mod√®les pour vous aider √† g√©n√©rer des requ√™tes ou stocker des requ√™tes dans localStorage ou une base de donn√©es. Examinons le r√©sultat complet lorsque toutes les √©tapes sont mises en ≈ìuvre.

![hugging_test](https://www.youtube.com/watch?v=SwAry_jIXns)

Maintenant vous pouvez jouer avec √ßa ! Essayez d'autres mod√®les de pointe qui sont fournis par Hugging face √† travers cette API. Il y en a plus √† explorer, comme les mod√®les d'anime de diffusion stable t√©l√©charger, la formation d'un style d'artiste, la m√©thode d'√©chantillonnage pour des images r√©alistes. Vous pouvez faire beaucoup plus !

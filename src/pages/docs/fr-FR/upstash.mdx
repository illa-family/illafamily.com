---
title: Hausse
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/427?languages=fr&filter=basic&value=0
metaTitle: Doc d'int√©gration Upstash | ILLA Cloud
desc: Apprenez √† connecter votre base de donn√©es Upstash Redis √† ILLA Cloud et √† cr√©er des applications qui peuvent interroger, manipuler et afficher des donn√©es
tagCategory: Cliquez sur le bouton dock_upstash_dock
categoryName: üî® Int√©grations
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>Qu'est-ce que Upstash ?</h2>

Upstash est un service natif de nuage sans serveur avec Redis compatible qui fournit un moyen facile d'int√©grer la fonctionnalit√© Redis dans les applications. Dans le contexte d'ILLA Cloud, l'int√©gration Upstash permet aux utilisateurs de tirer parti des fonctionnalit√©s et des capacit√©s d'Upstash au sein de l'application ILLA Cloud.

Ce tutoriel d√©crit le processus de cr√©ation d'un panneau d'administration en utilisant ILLA Builder et Upstash en quelques √©tapes simples. ILLA Cloud est une plate-forme √† code faible pour les d√©veloppeurs qui permet le d√©veloppement rapide et le d√©ploiement d'outils internes. Il permet de cr√©er des pages en faisant glisser et d√©poser des composants de l'interface, en se connectant √† n'importe quelle base de donn√©es ou API, et en √©crivant du JavaScript. Pour en savoir plus sur Upstash, visitez leur site Web sur https://upstash.com/(https://upstash.com/) Commen√ßons !

### Configurez votre back-end en Upstash

Cr√©er un compte sur Upstash. Vous pouvez vous connecter en utilisant alternativement vos comptes Amazon, Github ou Google.

Apr√®s vous √™tre connect√© √† votre compte sur `Upstash`, cliquez sur le bouton `Create database` dans Redis.

![up_home](https://cdn.illacloud.com/official-website/img/docs/up_home.jpg)

Sur le tableau de bord `Upstash`, cliquez sur `Cr√©er une base de donn√©es`.

![up_create_db](https://cdn.illacloud.com/official-website/img/docs/up_create_db.jpg)

Note: vous ne pouvez avoir qu'une seule base de donn√©es dans le niveau gratuit.

Pour la configuration de la base de donn√©es, vous pouvez nommer votre base de donn√©es comme vous le souhaitez. Ici, nous l'appelons `db1`. Choisissez la `r√©gion primaire` et la `r√©gion lue` en fonction de vos emplacements d'√©criture et de lecture. Activer `TSL/SSL`. Il est facultatif d'activer l'√©viction.

![up_db_config](https://cdn.illacloud.com/official-website/img/docs/up_db_config.jpg)

Cliquez sur le bouton **`cr√©er`**, nous avons maintenant une base de donn√©es pr√™te √† l'emploi.

### Cr√©er un Upstash dans le Cloud ILLA

Il y a deux fa√ßons de cr√©er une ressource dans Illa apr√®s la connexion √† votre compte Illa.

-   Cr√©er dans les ressources

Connectez-vous √† votre compte Illa, s√©lectionnez `**Ressources**` en haut de la page, et cliquez sur le bouton `**Cr√©er nouveau**`.

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

S√©lectionnez **`Upstash`** dans la liste des bases de donn√©es.

![action_list_0](https://cdn.illacloud.com/official-website/img/docs/action_list_0.jpg)

Connectez-vous √† la base de donn√©es avec les param√®tres requis d√©crits dans `Param√®tres de connexion` ci-dessous.

Cliquez sur `**Tester la connexion**` pour voir si nous pouvons nous connecter avec succ√®s √† la base de donn√©es. Si oui, cliquez sur **`Enregistrer les ressources`**, sinon v√©rifiez que le nom d'h√¥te, le port, le nom d'utilisateur et le mot de passe sont corrects.

Apr√®s avoir cr√©√© une ressource, le `Upstash` pr√™t s'affichera comme indiqu√©.

![up_ex_ready](https://cdn.illacloud.com/official-website/img/docs/up_ex_ready.jpg)

-   Cr√©er dans le constructeur

Connectez-vous √† votre compte Illa, cr√©ez un projet dans Illa Builder sur la page `**App**` et acc√©dez √† la **`Liste d'actions`** en bas de la page. Cliquez sur `**new**`, puis s√©lectionnez **`Upstash`** dans la liste des bases de donn√©es. Ensuite, connectez-vous √† la base de donn√©es avec les param√®tres requis d√©crits dans `Param√®tres de connexion` ci-dessous.

Cliquez sur `**Tester la connexion**` pour voir si nous pouvons nous connecter avec succ√®s √† la base de donn√©es. Si oui, cliquez sur **`Enregistrer les ressources`**, sinon v√©rifiez que le nom d'h√¥te, le port, le nom d'utilisateur et le mot de passe sont corrects.

### Param√®tres de connexion

Ici, nous avons besoin de fournir des informations pour se connecter √† la base de donn√©es Upstash.

![up_config](https://cdn.illacloud.com/official-website/img/docs/up_config_rev.jpg)

| Propri√©t√©s     | Requis      | Libell√©                                                                                                                                   |
| -------------- | ----------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| Nom            | Obligatoire | Le nom de la ressource lors de la cr√©ation d'actions dans l'ILLA.                                                                         |
| Hostname       | Obligatoire | L'URL ou l'adresse IP de votre base de donn√©es                                                                                            |
| Port           | Obligatoire | Le num√©ro de port de l'h√¥te que vous devez utiliser pour vous connecter. Si vous ne sp√©cifiez pas de port, le port par d√©faut est '6379'. |
| Mot de passe   | Obligatoire | Utilisez ce mot de passe pour l'authentification.                                                                                         |
| Option SSL     | Obligatoire | activer ou non le SSL (il est recommand√© de l'activer)                                                                                    |

Pour remplir les informations requises, allez √† la page du tableau de bord de la base de donn√©es et cliquez sur la base de donn√©es que nous venons de cr√©er dans votre Upstash.

![up_info](https://cdn.illacloud.com/official-website/img/docs/up_info.jpg)

Vous pouvez le copier en survolant la souris sur le point de terminaison, le mot de passe et le port et en cliquant sur l'ic√¥ne de copie du texte derri√®re lui.

Dans la configuration d'int√©gration d'Upstash dans ILLA Cloud, mettez le nom que vous voulez pour `Name`, `Endpoint` pour `hostname`, nomm√© `Port` pour `Port`, et copiez le `Password` chiffr√© pour `Password`.

![up_config_done](https://cdn.illacloud.com/official-website/img/docs/up_config_rev_done.jpg)

### Cr√©er des actions

Nous avons cr√©√© une ressource Upstash, nous pouvons ajouter l'action en s√©lectionnant Upstash dans la liste d'actions et en choisissant le bouton **`Create action`**.

![up_resource_list](https://cdn.illacloud.com/official-website/img/docs/up_resource_list.jpg)

Maintenant nous avons ajout√© le serveur Upstash comme une action √† notre page de construction.

![upstash](https://cdn.illacloud.com/official-website/img/docs/upstash.jpg)

### Configurer Upstash

| Propri√©t√©s     | Libell√©                                                                                               |
| -------------- | ----------------------------------------------------------------------------------------------------- |
| Requ√™te Redis  | utilisez la requ√™te pour r√©cup√©rer et manipuler les donn√©es stock√©es dans votre base de donn√©es Redis |
| Transformateur | transformation des donn√©es dans le style que vous aimez en utilisant JavaScript                       |

Exemple d'utilisation :

1.  Obtenir des valeurs :
    -   R√©cup√®re une valeur : Utilisez la commande **`GET`** pour r√©cup√©rer la valeur associ√©e √† une cl√© sp√©cifique. Par exemple : **`Cl√© GET`**.
2.  D√©finir les valeurs :
    -   D√©finit une valeur: Utilisez la commande **`SET`** pour d√©finir la valeur d'une cl√©. Par exemple **`valeur de la cl√© SET`**.
3.  Op√©rations de hachage :
    -   D√©finissez les paires de valeur de champ dans un hachage : Utilisez la commande **`HSET`** pour d√©finir une paire field-value dans un hash. Par exemple : **`HSET valeur du champ hashKey`**.
    -   R√©cup√®re une valeur √† partir d'un hash: Utilisez la commande **`HGET`** pour r√©cup√©rer la valeur d'un champ sp√©cifique dans un hash. Par exemple : **`HGET hashKey field`**.
4.  Op√©rations de liste:
    -   Ajoute un √©l√©ment √† une liste : Utilisez la commande **`LPUSH`** ou **`RPUSH`** pour ajouter un √©l√©ment au d√©but ou √† la fin d'une liste, respectivement. Par exemple : **`Valeur de la liste LPUSH`**.
    -   R√©cup√®re les √©l√©ments d'une liste : Utilisez la commande **`LRANGE`** pour r√©cup√©rer une gamme d'√©l√©ments d'une liste. Par exemple: **`LRANGE listKey start end`**.
5.  D√©finir les op√©rations :
    -   Ajoute des √©l√©ments √† un ensemble : Utilisez la commande **`SADD`** pour ajouter un ou plusieurs √©l√©ments √† un ensemble. Par exemple : **`SADD setKey value1 value2`**.
    -   R√©cup√©rer les √©l√©ments d'un ensemble : Utilisez la commande **`SMEMBERS`** pour obtenir tous les membres d'un ensemble. Par exemple: **`SMEMBERS setKey`**.
6.  Op√©rations du jeu tri√© :
    -   Ajoute des √©l√©ments √† un ensemble tri√© : Utilisez la commande **`ZADD`** pour ajouter des √©l√©ments √† un ensemble tri√© avec leurs scores. Par exemple : **`ZADD tritedSetKey score 1 member1 score member2 member2`**.
    -   R√©cup√®re les √©l√©ments d'un jeu tri√© : Utilisez la commande **`ZRANGE`** pour r√©cup√©rer une gamme d'√©l√©ments d'un jeu tri√© bas√© sur leurs partitions. Par exemple : **`ZRANGE sortedSetKey start end`**.

Note : Vous pouvez consulter la documentation de Redis pour une liste compl√®te des commandes et leur utilisation.

### Cas d'utilisation

Ensuite, nous allons montrer comment mapper les donn√©es de `**Upstash**` vers le composant `table`.

#### √âtape 1 Ajouter une action

Cr√©ons une table dans Upstash appel√©e **`employee_profile`,** incluant 4 colonnes `name`, `level`, `age` et `maried`.

Ensuite, nous pouvons cr√©er une nouvelle action pour Upstash √† partir de la liste d'action dans ILLA Cloud et nommer upstash2.

Pour lister toutes les donn√©es dans employee_profile mettez le code snippet ci-dessous dans la section Requ√™te Redis.

```sql
OBTENIR le profil de l'employ√©
```

Puisque les donn√©es de sortie sont une liste de paires de dictionnaire, nous voulons les transformer en tableau. Dans Transformer, activez-le et mettez le code ci-dessous.

```jsx
const jsonString = data[0].result;

// Parse the JSON string into a JavaScript object
const jsonData = JSON.parse(jsonString);

// Access the "employees" property and map it to a new array
const mappedArray = jsonData.employees.map((employee) => ({
  name: employee.name,
  level: employee.level,
  age: employee.age,
  married: employee.married,
}));

return mappedArray;
```

![up_code](https://cdn.illacloud.com/official-website/img/docs/up_code.jpg)

Cliquez sur **`Save`** et **`Run`** pour activer cette action.

![up_data](https://cdn.illacloud.com/official-website/img/docs/up_data.jpg)

#### √âtape 2 Ajouter des composants

Ensuite, nous pouvons ajouter un composant **`table`** √† la toile.

Dans le champ **`Source de donn√©es`** dans la page d'Inspect apr√®s avoir cliqu√© sur le composant, mettez `{{upstash2.data}}` pour r√©cup√©rer les donn√©es depuis le haut.

#### Test de l'√©tape 3

Le regard final devrait √™tre comme indiqu√©.

![up_test](https://cdn.illacloud.com/official-website/img/docs/up_test.jpg)

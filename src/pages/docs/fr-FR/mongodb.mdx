---
title: MongoDB
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/351?languages=fr&filter=basic&value=0
metaTitle: Doc d'int√©gration MongoDB | ILLA Cloud
desc: Apprenez √† utiliser ILLA Cloud pour construire des applications avec MongoDB. Explorez les fonctions de requ√™te, de manipulation et de visualisation des donn√©es.
tagCategory: doc_menu_mongodb_click
categoryName: üî® Int√©grations
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>Qu'est-ce que MongoDB ?</h2>

MongoDB est une base de donn√©es orient√©e vers les documents NoSQL, largement utilis√©e pour les applications web et autres logiciels bas√©s sur des donn√©es. MongoDB est con√ßu pour √™tre flexible, √©volutif et rapide, et est particuli√®rement adapt√© pour traiter de grandes quantit√©s de donn√©es non structur√©es ou semi-structur√©es.

Dans Illa, vous pouvez vous connecter √† une base de donn√©es MongoDB en utilisant la ressource de requ√™te MongoDB. Cette ressource vous permet d'ex√©cuter des requ√™tes MongoDB directement √† partir d'Illa, sans avoir √† √©crire de code. Vous pouvez utiliser l'√©diteur de requ√™te pour √©crire des requ√™tes dans la langue native de la requ√™te MongoDB qui est bas√© sur JavaScript et utilise une syntaxe de type JSON pour travailler avec des documents.

### Create MongoDB

Il y a deux fa√ßons de cr√©er une ressource dans Illa apr√®s la connexion √† votre compte Illa.

-   Cr√©er dans les ressources

Connectez-vous √† votre compte Illa, s√©lectionnez `**Ressources**` en haut de la page, et cliquez sur le bouton `**Cr√©er nouveau**`.

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

S√©lectionnez **`MongoDB`** dans la liste des bases de donn√©es.

![action_list](https://cdn.illacloud.com/official-website/img/docs/action_list.png)

Connectez-vous √† la base de donn√©es avec les param√®tres requis d√©crits dans `Param√®tres de connexion` ci-dessous.

Cliquez sur `**Tester la connexion**` pour voir si nous pouvons nous connecter avec succ√®s √† la base de donn√©es. Si oui, cliquez sur **`Enregistrer les ressources`**, sinon v√©rifiez que le nom d'h√¥te, le port, le nom d'utilisateur et le mot de passe sont corrects.

Apr√®s avoir cr√©√© une ressource, la MongoDB pr√™te s'affichera comme indiqu√©.

![mongo_ex_ready](https://cdn.illacloud.com/official-website/img/docs/mongo_ex_ready.png)

-   Cr√©er dans le constructeur

Connectez-vous √† votre compte Illa, cr√©ez un projet dans Illa Builder dans la page `**App**` et acc√©dez √† la **`Liste d'actions`** en bas de la page. Cliquez sur `**new**`, puis s√©lectionnez **`MongoDB`** dans la liste des bases de donn√©es. Ensuite, connectez-vous √† la base de donn√©es avec les param√®tres requis d√©crits dans `Param√®tres de connexion` ci-dessous.

Cliquez sur `**Tester la connexion**` pour voir si nous pouvons nous connecter avec succ√®s √† la base de donn√©es. Si oui, cliquez sur **`Enregistrer les ressources`**, sinon v√©rifiez que le nom d'h√¥te, le port, le nom d'utilisateur et le mot de passe sont corrects.

### Param√®tres de connexion

Ici, nous avons besoin de fournir des informations pour se connecter √† la base de donn√©es MongoDB.

![mongo_config](https://cdn.illacloud.com/official-website/img/docs/mongo_config.png)

| Propri√©t√©s                  | Requis      | Libell√©                                                                                                                                     |
| --------------------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------- |
| Nom                         | Obligatoire | Le nom de la ressource lors de la cr√©ation d'actions dans l'ILLA.                                                                           |
| Type de configuration       | optionnel   | un type de collection utilis√© pour stocker des donn√©es de configuration pour les clusters d√©coup√©s.                                         |
| Hostname                    | Obligatoire | L'URL ou l'adresse IP de votre base de donn√©es                                                                                              |
| Format de connexion         | Obligatoire | la syntaxe utilis√©e pour sp√©cifier la cha√Æne de connexion pour se connecter √† une base de donn√©es ou un cluster MongoDB.                    |
| Port                        | Obligatoire | Le num√©ro de port de l'h√¥te que vous devez utiliser pour vous connecter. Si vous ne sp√©cifiez pas de port, le port par d√©faut est '3306'.   |
| Base de donn√©es             | Obligatoire | Le nom de la base de donn√©es                                                                                                                |
| Nom d'utilisateur           | Obligatoire | le nom d'utilisateur que vous souhaitez utiliser lors de votre connexion au serveur MongoDB.                                                |
| Mot de passe                | Obligatoire | Utilisez ce mot de passe pour l'authentification.                                                                                           |
| Options SSL                 | optionnel   | d√©cide √† quel point une connexion s√©curis√©e TCP/IP est prioris√©e lors de la n√©gociation avec le serveur.                                    |

### Cr√©er des actions

Nous avons cr√©√© une ressource MongoDB, nous pouvons ajouter l'action en s√©lectionnant MongoDB dans la liste d'action et en choisissant le bouton **`Cr√©er l'action`**.

![mongo_resource_list](https://cdn.illacloud.com/official-website/img/docs/mongo_resource_list.png)

Maintenant nous avons ajout√© le serveur MongoDB comme une action √† notre page de construction.

![mongodb](https://cdn.illacloud.com/official-website/img/docs/mongodb.png)

### Configure MongoDB

#### Aper√ßu

| Nom de la m√©thode | Libell√©                                                                                          |
| ----------------- | ------------------------------------------------------------------------------------------------ |
| Type d'action     | agr√©gate, bulkwrite, count, deleteMany. deleteOne, distinct, trouver, findOne                    |
| Collecte          | groupe de documents li√©s qui sont stock√©s ensemble dans une base de donn√©es                      |
| Transformateur    | transformation des donn√©es dans le style que vous aimez en utilisant JavaScript                  |

#### Agr√©gation

traiter plusieurs documents et retourner les r√©sultats calcul√©s.

** Input **

| Propri√©t√©s  | Requis    | Libell√©                                            |
| ----------- | --------- | -------------------------------------------------- |
| Agr√©gation  | optionnel | d√©finit les op√©rations √† effectuer sur les donn√©es |

Par exemple, pour obtenir tous les r√©sultats dont la taille est moyenne=>regrouper les r√©sultats par type=>Calculer la somme des prix dans chaque type pour **`Aggregation`**:

```sql
[
	{
		"$match": { "size": "medium" }
	},
	{
		"$group": { "_id": "$type", "totalQuantity": { "$sum": "$price" } }
	}
]
```

** Sortie **

Un tableau des r√©sultats calcul√©s.

![mongo_agg_data](https://cdn.illacloud.com/official-website/img/docs/mongo_agg_data.png)

Utilisez `{{mongodb1.data[0].result}}` pour tout obtenir.

![mongo_agg_code](https://cdn.illacloud.com/official-website/img/docs/mongo_agg_code.png)

#### √âcriture en bloc

effectuer plusieurs op√©rations d'√©criture (insertion, mise √† jour et suppression) en une seule requ√™te vers le serveur

** Input **

| Propri√©t√©s | Requis    | Libell√©                                                                          |
| ---------- | --------- | -------------------------------------------------------------------------------- |
| Op√©rations | optionnel | un objet qui sp√©cifie le type d'op√©ration √† effectuer et les donn√©es √† √©crire    |

Un exemple pour **`Op√©rations`**:

```sql
[
	{ "insertOne": { "document": { "_id": 3, "type": "beef", "size": "medium", "price": 6 } } },
	{ "insertOne": { "document": { "_id": 4, "type": "sausage", "size": "large", "price": 10 } } },
	{ "updateOne": {
			"filter": { "type": "cheese" },
			"update": { "$set": { "price": 8 } }
		}
	}
]
```

** Sortie **

Le message mis √† jour est affich√© ci-dessous.

![mongo_bulk_data](https://cdn.illacloud.com/official-website/img/docs/mongo_bulk_data.png)

Puisque cette m√©thode fait des changements mais ne retourne rien. Il n'y a pas de donn√©es de sortie √† acc√©der.

#### Compter

compter le nombre de documents qui correspondent √† une requ√™te dans une collection

** Input **

| Propri√©t√©s   | Requis    | Libell√©                                                         |
| ------------ | --------- | --------------------------------------------------------------- |
| Requ√™te      | optionnel | sp√©cifie les crit√®res de s√©lection pour l'op√©ration de comptage |

Par exemple, pour compter le nombre d'articles avec le type ‚Äúbeef‚Äù, nous pouvons mettre le code ci-dessous dans **`Query`**:

```sql
{"type":"beef"}
```

** Sortie **

Le nombre de documents correspondants.

![mongo_count_data](https://cdn.illacloud.com/official-website/img/docs/mongo_count_data.png)

Utilisez `{{mongodb1.data}}` pour l'obtenir.

![mongo_count_code](https://cdn.illacloud.com/official-website/img/docs/mongo_count_code.png)

#### Supprimer plusieurs fois

supprimer plusieurs documents qui correspondent √† un filtre donn√© dans une collection.

** Input **

| Propri√©t√©s | Requis    | Libell√©                                                                                                                                        |
| ---------- | --------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| Filtre     | optionnel | sp√©cifie les crit√®res de s√©lection pour l'op√©ration de suppression, si non sp√©cifi√©e, tous les documents de cette collection seront supprim√©s. |

Par exemple, pour supprimer les pommes des articles. Nous pouvons mettre le code ci-dessous sur **`Filter`**.

```sql
 {"type":"pomme"}
```

** Sortie **

Le nombre de documents correspondants.

![mongo_delete2_data](https://cdn.illacloud.com/official-website/img/docs/mongo_delete2_data.png)

Utilisez `{{mongodb1.data[0].result.DeletedCount}}` pour l'obtenir. Si aucun fichier n'est trouv√©, la valeur retourn√©e sera 0.

![mongo_delete2_code](https://cdn.illacloud.com/official-website/img/docs/mongo_delete2_code.png)

#### supprimerun

supprimer un document qui correspond √† un filtre dans une collection.

** Input **

| Propri√©t√©s | Requis    | Libell√©                                                            |
| ---------- | --------- | ------------------------------------------------------------------ |
| Filtre     | optionnel | sp√©cifie les crit√®res de s√©lection pour l'op√©ration de suppression |

Par exemple, pour supprimer une pomme des articles. Nous pouvons mettre le code ci-dessous sur **`Filter`**.

```sql
 {"type":"pomme"}
```

** Sortie **

Supprimer le r√©sultat.

![mongo_delete1_data](https://cdn.illacloud.com/official-website/img/docs/mongo_delete1_data.png)

Utilisez `{{mongodb1.data[0].result.DeletedCount}}` pour l'obtenir. Si aucun fichier n'est trouv√©, la valeur retourn√©e sera 0 (Nous avons supprim√© toutes les pommes de **`deleteMany`**, Il n'y a plus de pomme √† gauche, donc retourner 0).

![mongo_delete1_code](https://cdn.illacloud.com/official-website/img/docs/mongo_delete1_code.png)

#### distincts

r√©cup√©rer un tableau de valeurs uniques pour un champ sp√©cifi√© dans une collection

** Input **

| Propri√©t√©s   | Requis      | Libell√©                                                       |
| ------------ | ----------- | ------------------------------------------------------------- |
| Requ√™te      | optionnel   | sp√©cifie les crit√®res de s√©lection pour l'op√©ration distincte |
| Champ        | Obligatoire | sp√©cifie le champ pour r√©cup√©rer les valeurs distinctes.      |

Par exemple, nous pouvons avoir `{"type":"orange"}` pour **`Query`** et `_id` pour **`Field`**.

** Sortie **

un tableau de valeurs distinctes

![mongo_dist_data](https://cdn.illacloud.com/official-website/img/docs/mongo_dist_data.png)

Utilisez `{{mongodb1.data[0].result.map(item =>({"result":item}))}}` pour obtenir le tableau.

![mongo_dist_code](https://cdn.illacloud.com/official-website/img/docs/mongo_dist_code.png)

#### trouver

r√©cup√©rer les documents d'une collection qui correspondent √† un ensemble de crit√®res sp√©cifi√©s

** Input **

| Propri√©t√©s    | Requis    | Libell√©                                                                                                             |
| ------------- | --------- | ------------------------------------------------------------------------------------------------------------------- |
| Requ√™te       | optionnel | sp√©cifie les crit√®res de s√©lection pour l'op√©ration de recherche                                                    |
| Projection    | optionnel | sp√©cifie quels champs inclure ou exclure dans les r√©sultats de la requ√™te                                           |
| Trier par     | optionnel | sp√©cifiez l'ordre de tri des documents retourn√©s                                                                    |
| Limite        | optionnel | limiter le nombre de documents retourn√©s, sans limite par d√©faut. Une limite de 0 est √©quivalente √† aucune limite.  |
| Ignorer       | optionnel | sp√©cifie le nombre de documents √† ignorer, par d√©faut √† 0.                                                          |

Par exemple, pour trouver l'identifiant, le prix et le type de toutes les oranges tri√©es par leur ID.

Pour **`Query`**, `{"type": "orange"}`

Pour **`Projection`**, `{"_id": 1, "type": 1, "price": 1}`
Pour **`Sort By`**, `{"_id":1}`

Note : remplacez ¬´ 1 ¬ª par ¬´ vrai ¬ª encore faites-le !

** Sortie **

Un tableau d'objets de documents

![mongo_find_data](https://cdn.illacloud.com/official-website/img/docs/mongo_find_data.png)

Utilisez `{{mongodb1.data[0].result}}` pour obtenir le tableau.

![mongo_find_code](https://cdn.illacloud.com/official-website/img/docs/mongo_find_code.png)

#### trouver1

r√©cup√©rer le premier document d'une collection qui correspond √† un ensemble de crit√®res sp√©cifi√©s

** Input **

| Propri√©t√©s    | Requis    | Libell√©                                                                    |
| ------------- | --------- | -------------------------------------------------------------------------- |
| Requ√™te       | optionnel | sp√©cifie les crit√®res de s√©lection pour l'op√©ration de recherche           |
| Projection    | optionnel | sp√©cifie quels champs inclure ou exclure dans les r√©sultats de la requ√™te  |
| Ignorer       | optionnel | sp√©cifie le nombre de documents √† ignorer, par d√©faut √† 0.                 |

Par exemple, pour trouver l'identifiant, le prix et le type de toutes les oranges tri√©es par leur ID.

Pour **`Query`**, `{"type": "orange"}`

Pour **`Projection`**, `{"_id": 1, "type": 1, "prix": 1}`

Note : remplacez ¬´ 1 ¬ª par ¬´ vrai ¬ª encore faites-le !

** Sortie **

Un tableau d'objets de documents

![mongo_find1_data](https://cdn.illacloud.com/official-website/img/docs/mongo_find1_data.png)

Utilisez `{{[mongodb1.data[0].result]}}` pour obtenir le tableau.

![mongo_find1_code](https://cdn.illacloud.com/official-website/img/docs/mongo_find1_code.png)

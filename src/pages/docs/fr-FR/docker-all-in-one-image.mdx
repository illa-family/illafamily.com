---
title: Image tout-en-un Docker
tagCategory: docker-all-in-one-image_clic_docker
desc: illa utilise une image tout-en-un et l'ex√©cute sur votre machine.
categoryName: üë∑ Deploy ILLA
categoryPriority: 2
postPriority: 1
---

* * *

## <Heading hidden>Image tout-en-un Docker</Heading>

### Libell√©

illa utilise une image tout-en-un et l'ex√©cute sur votre machine. Vous pouvez consulter le fichier des scripts dans le dossier [scripts](https://github.com/illacloud/deploy-illa-manually/blob/main/docker/scripts) pour plus de d√©tails.

Note :

Nous vous recommandons fortement de d√©ployer avec nos outils de d√©ploiement automatique[illa-cli](https://github.com/illacloud/illa).

Et pour le moment nous ne supportons pas Apple Silicon M1 (arc darwin-arm64).

### Ex√©cuter une image officielle

Installez la marque GNU et tapez :

```jsx
faire de run-official-image
```

ou ex√©cutez simplement :

```jsx
/bin/bash scripts/run-official-image.sh
```

cette commande va r√©cup√©rer illasoft image officielle et l'ex√©cuter sur votre environnement docker.

Et connectez-vous avec le nom d'utilisateur par d√©faut **`root`** et le mot de passe **`password`**.

### Construire une image manuellement et ex√©cuter

Installez GNU make (ou ex√©cutez des scripts shell dans le dossier des scripts).

Pour construire une image tout-en-un et ex√©cuter, tapez :

```jsx
tout faire
```

pour le podman, type:

```jsx
faire run-by-podman
```

ou ex√©cutez des scripts shell `run-by-podman.sh` dans le dossier des scripts.

### Arr√™ter et supprimer le conteneur

```jsx
cr√©er un conteneur-stop-and-remove
```

### Nettoyer le fichier de base de donn√©es Postgres

** CETTE COMMANDE SUPPRIMER LE FICHIER DE LA DONN√âE SUR VOTRE DISK!!! \*\*\*** BACKUP, ET FAITES ATTENTIVEMENT \*\*\*

Par d√©faut, la base de donn√©es Postgres stockera dans le dossier `/var/lib/illa/database/postgresql/`.

Ex√©cutez la commande suivante pour la supprimer.

```jsx
cr√©er un fichier de base de donn√©es de postgres-clean
```

### Variables d'environnement d'ex√©cution de la configuration

√âditez `scripts/run.sh` lorsque n√©cessaire:

```jsx
# postgres database password
PG_PASS=mysecretpassword

# repo home dir
ILLA_HOME_DIR=/var/lib/illa

# postgres database file storage folder
PG_VOLUMN=${ILLA_HOME_DIR}/database/postgresql
DRIVE_VOLUMN=${ILLA_HOME_DIR}/drive
```

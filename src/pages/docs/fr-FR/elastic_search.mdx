---
title: Elastic Search
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/367?languages=fr&filter=basic&value=0
metaTitle: Doc d'int√©gration de recherche Elastic | ILLA Cloud
desc: Utilisez ILLA Cloud pour vous connecter et interagir avec vos donn√©es de recherche √©lastique. Cr√©ez des applications qui peuvent effectuer des recherches en plein texte, des analyses de logs, et plus encore.
tagCategory: doc_menu_elastic_search_click
categoryName: üî® Int√©grations
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>Qu'est-ce que la recherche √©lastique ?</h2>

La recherche √©lastique est un moteur de recherche et d'analyse distribu√© RESTful qui est couramment utilis√© pour indexer et rechercher de grands volumes de donn√©es. Dans Illa, vous pouvez utiliser la source de donn√©es Elasticsearch pour vous connecter √† des instances Elasticsearch et effectuer des requ√™tes et des agr√©gations sur vos donn√©es.

### Cr√©er une recherche √©lastique

Il y a deux fa√ßons de cr√©er une ressource dans Illa apr√®s la connexion √† votre compte Illa.

-   Cr√©er dans les ressources

Connectez-vous √† votre compte Illa, s√©lectionnez `**Ressources**` en haut de la page, et cliquez sur le bouton `**Cr√©er nouveau**`.

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

S√©lectionnez **`Elastic Search`** dans la liste des bases de donn√©es.

![action_list](https://cdn.illacloud.com/official-website/img/docs/action_list.png)

Connectez-vous √† la base de donn√©es avec les param√®tres requis d√©crits dans `Param√®tres de connexion` ci-dessous.

Cliquez sur `**Tester la connexion**` pour voir si nous pouvons nous connecter avec succ√®s √† la base de donn√©es. Si oui, cliquez sur **`Enregistrer les ressources`**, sinon v√©rifiez que le nom d'h√¥te, le port, le nom d'utilisateur et le mot de passe sont corrects.

Apr√®s avoir cr√©√© une ressource, la recherche √©lastique pr√™te s'affichera comme indiqu√©.

![ela_ex_ready](https://cdn.illacloud.com/official-website/img/docs/ela_ex_ready.png)

-   Cr√©er dans le constructeur

Connectez-vous √† votre compte Illa, cr√©ez un projet dans Illa Builder dans la page `**App**` et acc√©dez √† la **`Liste d'actions`** en bas de la page. Cliquez sur `**new**`, puis s√©lectionnez **`Elastic Search`** dans la liste des bases de donn√©es. Ensuite, connectez-vous √† la base de donn√©es avec les param√®tres requis d√©crits dans `Param√®tres de connexion` ci-dessous.

Cliquez sur `**Tester la connexion**` pour voir si nous pouvons nous connecter avec succ√®s √† la base de donn√©es. Si oui, cliquez sur **`Enregistrer les ressources`**, sinon v√©rifiez que le nom d'h√¥te, le port, le nom d'utilisateur et le mot de passe sont corrects.

### Param√®tres de connexion

Ici, nous avons besoin de fournir des informations pour nous connecter √† la base de donn√©es Elastic Search.

![ela_config](https://cdn.illacloud.com/official-website/img/docs/ela_config.png)

| Propri√©t√©s           | Requis      | Libell√©                                                                                                                    |
| -------------------- | ----------- | -------------------------------------------------------------------------------------------------------------------------- |
| Nom                  | Obligatoire | Le nom de la ressource lors de la cr√©ation d'actions dans l'ILLA.                                                          |
| Hostname             | Obligatoire | L'URL ou l'adresse IP de votre base de donn√©es                                                                             |
| Port                 | Obligatoire | Le num√©ro de port de l'h√¥te que vous devez utiliser pour vous connecter.                                                   |
| Base de donn√©es      | Obligatoire | Le nom de la base de donn√©es                                                                                               |
| Nom d'utilisateur    | Obligatoire | le nom d'utilisateur que vous souhaitez utiliser lors de votre connexion au serveur Elastic Search.                        |
| Mot de passe         | Obligatoire | Utilisez ce mot de passe pour l'authentification.                                                                          |
| Options SSL          | optionnel   | d√©cide √† quel point une connexion s√©curis√©e TCP/IP est prioris√©e lors de la n√©gociation avec le serveur.                   |

### Cr√©er des actions

Nous avons cr√©√© une ressource de recherche √©lastique, nous pouvons ajouter l'action en s√©lectionnant la recherche √©lastique dans la liste d'action et en choisissant le bouton **`Cr√©er l'action`**.

![ela_resource_list](https://cdn.illacloud.com/official-website/img/docs/ela_resource_list.png)

Maintenant nous avons ajout√© le serveur Elastic Search comme une action √† notre page de construction.

![ela](https://cdn.illacloud.com/official-website/img/docs/ela.png)

### Configurer la recherche √©lastique

#### Aper√ßu

| Nom de la m√©thode | Libell√©                                                                                                |
| ----------------- | ------------------------------------------------------------------------------------------------------ |
| Type d'action     | rechercher, obtenir un document, ins√©rer un document, mettre √† jour un document, supprimer un document |
| Transformateur    | transformation des donn√©es dans le style que vous aimez en utilisant JavaScript                        |

#### ins√©rer un document

envoyant une requ√™te HTTP PUT √† la grappe Elasticsearch avec un document JSON contenant les donn√©es √† ins√©rer.

** Input **

| Propri√©t√©s  | Requis    | Libell√©                                               |
| ----------- | --------- | ----------------------------------------------------- |
| Corps       | optionnel | un document JSON qui contient les donn√©es √† ins√©rer   |
| Index       | optionnel | nom de l'index o√π le document doit √™tre ins√©r√©        |

Par exemple, pour ins√©rer `value1`, `value2`, et `value3` dans **`field1`**, **`field2`**, et **`field3`** dans notre base de donn√©es de recherche Elastic, mettez le code snippet ci-dessous dans le `**Body`** et `insert2` pour **`Index`\*\*.

```jsx
{
	"field1": "value1",
	"field2": "value2",
	"field3": "value3"
}
```

** Sortie **

Message de succ√®s pour savoir si le document est ins√©r√© avec succ√®s et les informations du document ins√©r√©.

![ela_insert_data](https://cdn.illacloud.com/official-website/img/official-site/ela_insert_data.png)

Utilisez `{{insert.data}}` pour recevoir le message.

![ela_insert_code](https://cdn.illacloud.com/official-website/img/official-site/ela_insert_code.png)

#### mettre √† jour un document

envoyer une requ√™te HTTP **`POST`** ou **`PUT`** √† la grappe Elasticsearch avec l'ID du document qui doit √™tre mis √† jour, et un document JSON qui sp√©cifie les modifications √† effectuer.

** Input **

| Propri√©t√©s  | Requis    | Libell√©                                            |
| ----------- | --------- | -------------------------------------------------- |
| Corps       | optionnel | La nouvelle valeur √† assigner au champ.            |
| Index       | optionnel | Le nom de l'index o√π le document est stock√©.       |
| Id          | optionnel | L'identifiant unique pour le document.             |

Par exemple, pour mettre √† jour `value1`, `value2`, et `value3` pour **`field1`**, **`field2`** et **`field3`** dans notre base de donn√©es de recherche Elastic, met le code snippet ci-dessous dans le **`Corps,`** `insert2` pour **`Index`** , et copiez-collez le document **`Id`** √† partir du message d'insertion.

```jsx
{"doc":{
	"field1": "value11",
	"field2": "value2",
	"field3": "value3"
}}
```

** Sortie **

Message de succ√®s pour savoir si le document est mis √† jour avec succ√®s et les informations du document mis √† jour.

![ela_update_data](https://cdn.illacloud.com/official-website/img/official-site/ela_update_data.jpg)

Utilisez `{{update.data}}` pour recevoir le message.

![ela_update_code](https://cdn.illacloud.com/official-website/img/official-site/ela_update_code.jpg)

#### Chercher

interroger et r√©cup√©rer les documents depuis un index

** Input **

| Propri√©t√©s   | Requis    | Libell√©                                                                                          |
| ------------ | --------- | ------------------------------------------------------------------------------------------------ |
| Requ√™te      | optionnel | sp√©cifiez la requ√™te de recherche qui est utilis√©e pour correspondre aux documents dans un index |
| Index        | optionnel | sp√©cifiez le nom de l'index ou des indices qui doivent √™tre recherch√©s                           |

Par exemple, pour rechercher dans la base de donn√©es des documents avec la paire cl√©-valeur `"field1": "value1"`, mettez le code snippet ci-dessous dans le **`Query`.**

```jsx
{
	"query": {
		"match": {
			"field1": "value1"
		}
	}
}
```

** Sortie **

Message de succ√®s avec le nombre de clics/documents qu'il trouve qui correspond √† la requ√™te et aux informations pour chaque coup.

![ela_search_data](https://cdn.illacloud.com/official-website/img/official-site/ela_search_data.jpg)

Utilisez `{{search.data}}` pour recevoir le message.

![ela_search_code](https://cdn.illacloud.com/official-website/img/official-site/ela_search_code.jpg)

#### obtenir un document

envoyer une requ√™te HTTP **`GET`** √† la grappe Elasticsearch avec l'ID du document √† r√©cup√©rer.

** Input **

| Propri√©t√©s | Requis    | Libell√©                                            |
| ---------- | --------- | -------------------------------------------------- |
| Index      | optionnel | Le nom de l'index o√π le document est stock√©.       |
| Id         | optionnel | L'identifiant unique pour le document.             |

Par exemple, pour obtenir les informations sur le document que nous venons de mettre √† jour, mettre `insert2` pour **`Index`**, et copier-coller le document **`Id`** √† partir du message mis √† jour.

** Sortie **

retourne le document avec l'ID sp√©cifi√©, ou une erreur **`404 Not Found`** si le document n'existe pas.

![ela_get_data](https://cdn.illacloud.com/official-website/img/official-site/ela_get_data.jpg)

Utilisez `{{get.data}}` pour recevoir le message.

![ela_get_code](https://cdn.illacloud.com/official-website/img/official-site/ela_get_code.jpg)

#### supprimer un document

en envoyant une requ√™te HTTP DELETE au cluster Elasticsearch avec l'ID du document qui doit √™tre supprim√©.

** Input **

| Propri√©t√©s | Requis    | Libell√©                                            |
| ---------- | --------- | -------------------------------------------------- |
| Index      | optionnel | Le nom de l'index o√π le document est stock√©.       |
| Id         | optionnel | L'identifiant unique pour le document.             |

Par exemple, pour supprimer le document, mettez `insert2` pour **`Index`,** et copiez-collez le document **`Id`** √† partir du message mis √† jour.

** Sortie **

retourne le document avec l'ID sp√©cifi√©, ou une erreur **`404 Not Found`** si le document n'existe pas.

![ela_delete_data](https://cdn.illacloud.com/official-website/img/official-site/ela_delete_data.jpg)

---
title: Docker allt-i-ett bild
tagCategory: docker-allt-i-ett bild-klicka
desc: Bygg illa utils en allt-i-ett-bild och k칬r den p친 din maskin.
categoryName: 游농 Deploy ILLA
categoryPriority: 2
postPriority: 1
---

* * *

## <h2 hidden>Docker all-in-one Image</h2>

### Beskrivning

Bygg illa utils en allt-i-ett-bild och k칬r den p친 din maskin. Du kan kolla in skriptfilen i mappen [scripts](https://github.com/illacloud/deploy-illa-manually/blob/main/docker/scripts) f칬r mer information.

Notera:

Vi rekommenderar starkt att distribuera med v친ra auto-distribuera verktyg[illa-cli](https://github.com/illacloud/illa).

Och f칬r tillf칛llet st칬der vi inte Apple Silicon M1 (darwin-arm64 arch).

### K칬r en officiell bild

Installera GNU make och typ:

```jsx
g칬r run-officiell-bild
```

eller bara exekvera:

```jsx
/bin/bash skript/run-official-image.sh
```

detta kommando kommer att dra illasoft officiella bild och k칬ra det p친 din docker milj칬.

Och logga in med standardnamnet **`root`** och l칬senordet **`password`**.

### Bygg bild manuellt och k칬r

Installera GNU g칬ra (eller k칬r skalskript i skriptmappen manuellt).

F칬r att bygga illa allt-i-ett-bild och k칬ra, skriv:

```jsx
g칬r alla
```

f칬r podman, skriv:

```jsx
g칬r run--by-podman
```

eller k칬r skalskript `run-by-podman.sh` i skriptmappen.

### Stoppa och ta bort beh친llare

```jsx
g칬r stopp-och-ta bort beh친llare
```

### Rensa Postgres databasfil

** DETTA KOMMAND DELET DATABASE FILE P칀 DINA RABATT!!! \*\*\*** BACKUP, OCH G칐RA DET KR츿FTILLT \*\*\*

I standard kommer Postgres-databasen att lagras i mappen `/var/lib/illa/database/postgresql/`.

K칬r f칬ljande kommando f칬r att ta bort det.

```jsx
g칬r clean-postgres-database-fil
```

### Variabler f칬r Konfig Runtime Environment

Redigera `scripts/run.sh` vid behov:

```jsx
# postgres databasl칬senord
PG_PASS=mysecretpassword

# repo home dir
ILLA_HOME_DIR=/var/lib/illa

# postgres databas fillagringsmapp
PG_VOLUMN=${ILLA_HOME_DIR}/database/postgresql
DRIVE_VOLUMN=${ILLA_HOME_DIR}/drive
```

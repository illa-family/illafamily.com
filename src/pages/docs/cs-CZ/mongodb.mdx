---
title: MongoDB
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/351?languages=cs&filter=basic&value=0
metaTitle: MongoDB integraƒçn√≠ dokument | ILLA Cloud
desc: Nauƒçte se pou≈æ√≠vat ILLA Cloud pro vytv√°≈ôen√≠ aplikac√≠ s MongoDB. Prozkoumejte funkce dotazov√°n√≠, manipulace a vizualizace.
tagCategory: doc_menu_mongodb_click
categoryName: üî® Integrace
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>Co je MongoDB?</h2>

MongoDB je popul√°rn√≠ datab√°ze orientovan√° na obsah NoSQL, kter√° se bƒõ≈ænƒõ pou≈æ√≠v√° pro webov√© aplikace a dal≈°√≠ software zalo≈æen√Ω na datech. MongoDB je navr≈æen tak, aby byl pru≈æn√Ω, roz≈°i≈ôiteln√Ω a rychl√Ω, a je obzvl√°≈°tƒõ dob≈ôe vhodn√Ω pro nakl√°d√°n√≠ s velk√Ωm mno≈æstv√≠m nestrukturovan√Ωch nebo polostrukturovan√Ωch dat.

V Illa se m≈Ø≈æete p≈ôipojit k datab√°zi MongoDB pomoc√≠ dotazu MongoDB. Tento dokument umo≈æ≈àuje spustit dotazy MongoDB p≈ô√≠mo z Illa, ani≈æ byste museli ps√°t ≈æ√°dn√Ω k√≥d. M≈Ø≈æete pou≈æ√≠t editor dotaz≈Ø k psan√≠ dotaz≈Ø v rodn√©m jazyce MongoDB, kter√° je zalo≈æena na JavaScriptu a pou≈æ√≠v√° syntaxi podobnou JSONu pro pr√°ci s dokumenty.

### Create MongoDB

Po p≈ôihl√°≈°en√≠ do va≈°eho √∫ƒçtu Illa existuj√≠ dva zp≈Øsoby, jak vytvo≈ôit zdroj v Illa.

-   Vytvo≈ôit ve zdroj√≠ch

P≈ôihlaste se ke sv√©mu √∫ƒçtu Illa, vyberte `**Zdroje**` v horn√≠ ƒç√°sti str√°nky a kliknƒõte na tlaƒç√≠tko `**Vytvo≈ôit nov√©**`.

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

Vyberte **`MongoDB`** ze seznamu datab√°z√≠.

![action_list](https://cdn.illacloud.com/official-website/img/docs/action_list.png)

P≈ôipojte se k datab√°zi s po≈æadovan√Ωmi parametry popsan√Ωmi v ƒç√°sti `Nastaven√≠ p≈ôipojen√≠` n√≠≈æe.

Klepnƒõte na tlaƒç√≠tko `**Test Connection**` a zjistƒõte, zda se m≈Ø≈æeme √∫spƒõ≈°nƒõ p≈ôipojit k datab√°zi. Pokud ano, kliknƒõte na **`Ulo≈æit zdroje`**, jinak dvakr√°t zkontrolujte hostname, port, u≈æivatelsk√© jm√©no a heslo je spr√°vn√©.

Po vytvo≈ôen√≠ zdroje se bude MongoDB zobrazovat podle zobrazen√≠.

![mongo_ex_ready](https://cdn.illacloud.com/official-website/img/docs/mongo_ex_ready.png)

-   Vytvo≈ôit ve staviteli

P≈ôihlaste se ke sv√©mu √∫ƒçtu Illa, vytvo≈ôte projekt v Illa Builder na str√°nce `**App**` a p≈ôejdƒõte na **`Seznam akc√≠`** v doln√≠ ƒç√°sti str√°nky. Kliknƒõte na `**nov√©**`, pak vyberte **`MongoDB`** z datab√°zov√©ho seznamu. Pot√© se p≈ôipojte k datab√°zi s po≈æadovan√Ωmi parametry popsan√Ωmi v ƒç√°sti `Nastaven√≠ p≈ôipojen√≠` n√≠≈æe.

Klepnƒõte na tlaƒç√≠tko `**Test Connection**` a zjistƒõte, zda se m≈Ø≈æeme √∫spƒõ≈°nƒõ p≈ôipojit k datab√°zi. Pokud ano, kliknƒõte na **`Ulo≈æit zdroje`**, jinak dvakr√°t zkontrolujte hostname, port, u≈æivatelsk√© jm√©no a heslo je spr√°vn√©.

### Nastaven√≠ p≈ôipojen√≠

Zde mus√≠me poskytnout informace pro p≈ôipojen√≠ k datab√°zi MongoDB.

![mongo_config](https://cdn.illacloud.com/official-website/img/docs/mongo_config.png)

| Vlastnosti                 | Po≈æadov√°no | L 343, 22.12.2009, s. 1).                                                                                                        |
| -------------------------- | ---------- | -------------------------------------------------------------------------------------------------------------------------------- |
| N√°zev                      | vy≈æadov√°no | N√°zev zdroje p≈ôi vytv√°≈ôen√≠ akc√≠ v ILLA.                                                                                          |
| Typ konfigurace            | voliteln√©  | typ sb√≠rky pou≈æ√≠van√Ω pro ukl√°d√°n√≠ konfiguraƒçn√≠ch dat pro st≈ôepen√° seskupen√≠.                                                     |
| Hostname                   | vy≈æadov√°no | URL nebo IP adresa pro va≈°i datab√°zi                                                                                             |
| Form√°t p≈ôipojen√≠           | vy≈æadov√°no | syntaxe pou≈æit√° pro up≈ôesnƒõn√≠ p≈ôipojovac√≠ho ≈ôetƒõzce pro p≈ôipojen√≠ k datab√°zi MongoDB nebo clusteru.                              |
| P≈ô√≠stav                    | vy≈æadov√°no | ƒå√≠slo portu hostitele, kter√© byste mƒõli pou≈æ√≠t k p≈ôipojen√≠. Pokud nespecifikujete port, v√Ωchoz√≠ port je '3306'.                  |
| Datab√°ze                   | vy≈æadov√°no | N√°zev datab√°ze                                                                                                                   |
| U≈æivatelsk√© jm√©no          | vy≈æadov√°no | u≈æivatelsk√© jm√©no, kter√© chcete pou≈æ√≠t p≈ôi p≈ôihl√°≈°en√≠ na MongoDB server.                                                         |
| Heslo                      | vy≈æadov√°no | Pou≈æ√≠t toto heslo pro ovƒõ≈ôen√≠.                                                                                                   |
| Mo≈ænosti SSL               | voliteln√©  | rozhoduje o tom, jak vysok√© je p≈ôi vyjedn√°v√°n√≠ se serverem up≈ôednostnƒõno bezpeƒçn√© p≈ôipojen√≠ SSL TCP/IP.                          |

### Vytvo≈ôit akce

Vytvo≈ôili jsme zdroj MongoDB, akci m≈Ø≈æeme p≈ôidat v√Ωbƒõrem MongoDB ze seznamu akc√≠ a v√Ωbƒõrem tlaƒç√≠tka **`Vytvo≈ôit akci`**.

![mongo_resource_list](https://cdn.illacloud.com/official-website/img/docs/mongo_resource_list.png)

Nyn√≠ jsme p≈ôidali MongoDB server jako akci na na≈°i stavebn√≠ str√°nku.

![mongodb](https://cdn.illacloud.com/official-website/img/docs/mongodb.png)

### Configure MongoDB

#### P≈ôehled

| N√°zev metody  | L 343, 22.12.2009, s. 1).                                                                 |
| ------------- | ----------------------------------------------------------------------------------------- |
| Typ akce      | agregovat, p≈ôepisovat, poƒç√≠tat, deleteMany. deleteOne, rozli≈°it, naj√≠t, nalezenoOne       |
| Sb√≠rka        | skupina souvisej√≠c√≠ch dokument≈Ø, kter√© jsou spoleƒçnƒõ ulo≈æeny v datab√°zi                   |
| Transform√°tor | transformace dat do stylu, kter√Ω se v√°m l√≠b√≠ pomoc√≠ JavaScriptu                           |

#### Souhrnn√Ω

zpracov√°vat v√≠ce dokument≈Ø a vracet vypoƒçten√© v√Ωsledky.

** Input **

| Vlastnosti  | Po≈æadov√°no | L 343, 22.12.2009, s. 1).                                        |
| ----------- | ---------- | ---------------------------------------------------------------- |
| Agregace    | voliteln√©  | definuje operace, kter√© maj√≠ b√Ωt prov√°dƒõny na √∫daj√≠ch            |

Nap≈ô√≠klad, abychom z√≠skali v≈°echny v√Ωsledky, jejich≈æ velikost je st≈ôedn√≠=>skupina, v√Ωsledky podle typu =>Vypoƒç√≠tejte souƒçet cen ka≈æd√©ho typu za **`Aggregace`**:

```sql
[
	{
		"$match": { "size": "medium" }
	},
	{
		"$group": { "_id": "$type", "totalQuantity": { "$sum": "$price" } }
	}
]
```

** V√Ωstup **

Pole vypoƒç√≠tan√Ωch v√Ωsledk≈Ø.

![mongo_agg_data](https://cdn.illacloud.com/official-website/img/docs/mongo_agg_data.png)

Pou≈æij `{{mongodb1.data[0].result}}` k z√≠sk√°n√≠ v≈°ech.

![mongo_agg_code](https://cdn.illacloud.com/official-website/img/docs/mongo_agg_code.png)

#### Hromadn√Ω z√°pis

prov√©st nƒõkolik operac√≠ pro z√°pis (vlo≈æit, aktualizovat a smazat) v jednom po≈æadavku na server

** Input **

| Vlastnosti | Po≈æadov√°no | L 343, 22.12.2009, s. 1).                                                                          |
| ---------- | ---------- | -------------------------------------------------------------------------------------------------- |
| Operace    | voliteln√©  | objekt, kter√Ω specifikuje druh operace k proveden√≠ a √∫daje, kter√© maj√≠ b√Ωt zaps√°ny                 |

P≈ô√≠klad pro **`Operace`**:

```sql
[
	{ "insertOne": { "document": { "_id": 3, "type": "beef", "size": "medium", "price": 6 } } },
	{ "insertOne": { "document": { "_id": 4, "type": "sausage", "size": "large", "price": 10 } } },
	{ "updateOne": {
			"filter": { "type": "cheese" },
			"update": { "$set": { "price": 8 } }
		}
	}
]
```

** V√Ωstup **

Aktualizovan√° zpr√°va je zobrazena n√≠≈æe.

![mongo_bulk_data](https://cdn.illacloud.com/official-website/img/docs/mongo_bulk_data.png)

Vzhledem k tomu, ≈æe tato metoda dƒõl√° zmƒõny, ale nic nevrac√≠. Neexistuj√≠ ≈æ√°dn√° v√Ωstupn√≠ data pro p≈ô√≠stup.

#### Poƒçet

spoƒç√≠tat poƒçet dokument≈Ø, kter√© odpov√≠daj√≠ dan√©mu dotazu v kolekci

** Input **

| Vlastnosti | Po≈æadov√°no | L 343, 22.12.2009, s. 1).                                              |
| ---------- | ---------- | ---------------------------------------------------------------------- |
| Dotaz      | voliteln√©  | specifikuje krit√©ria v√Ωbƒõru pro operaci sƒç√≠t√°n√≠                        |

Nap≈ô√≠klad, abychom spoƒç√≠tali poƒçet polo≈æek s typem ‚Äûhovƒõz√≠ maso‚Äú, m≈Ø≈æeme do **`Query`**:

```sql
{"type":"beef"}
```

** V√Ωstup **

Poƒçet odpov√≠daj√≠c√≠ch dokument≈Ø.

![mongo_count_data](https://cdn.illacloud.com/official-website/img/docs/mongo_count_data.png)

Pou≈æij `{{mongodb1.data}}` k jeho z√≠sk√°n√≠.

![mongo_count_code](https://cdn.illacloud.com/official-website/img/docs/mongo_count_code.png)

#### smazat

smazat v√≠ce dokument≈Ø, kter√© odpov√≠daj√≠ dan√©mu filtru ve sb√≠rce.

** Input **

| Vlastnosti | Po≈æadov√°no | L 343, 22.12.2009, s. 1).                                                                                                                    |
| ---------- | ---------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| Filtr      | voliteln√©  | specifikuje krit√©ria v√Ωbƒõru pro operaci maz√°n√≠, pokud nen√≠ specifikov√°no, v≈°echny dokumenty v t√©to kolekci budou odstranƒõny.                 |

Nap≈ô. odstranit jablka z polo≈æek. K√≥d m≈Ø≈æeme um√≠stit na **`Filter`**.

```sql
 {"type":"apple"}
```

** V√Ωstup **

Poƒçet odpov√≠daj√≠c√≠ch dokument≈Ø.

![mongo_delete2_data](https://cdn.illacloud.com/official-website/img/docs/mongo_delete2_data.png)

Pou≈æij `{{mongodb1.data[0].result.DeletedCount}}` k jeho z√≠sk√°n√≠. Pokud neodpov√≠daj√≠ ≈æ√°dn√© soubory, vr√°cen√° hodnota bude 0.

![mongo_delete2_code](https://cdn.illacloud.com/official-website/img/docs/mongo_delete2_code.png)

#### smazat

odstran√≠ jeden dokument, kter√Ω odpov√≠d√° dan√©mu filtru v kolekci.

** Input **

| Vlastnosti | Po≈æadov√°no | L 343, 22.12.2009, s. 1).                                               |
| ---------- | ---------- | ----------------------------------------------------------------------- |
| Filtr      | voliteln√©  | specifikuje krit√©ria v√Ωbƒõru pro operaci maz√°n√≠                          |

Nap≈ô. odstranit jablko z polo≈æek. K√≥d m≈Ø≈æeme um√≠stit na **`Filter`**.

```sql
 {"type":"apple"}
```

** V√Ωstup **

Odstranit v√Ωsledek.

![mongo_delete1_data](https://cdn.illacloud.com/official-website/img/docs/mongo_delete1_data.png)

Pou≈æij `{{mongodb1.data[0].result.DeletedCount}}` k jeho z√≠sk√°n√≠. Pokud neodpov√≠daj√≠ ≈æ√°dn√© soubory, vr√°t√≠ se hodnota 0 (proto≈æe jsme odstranili v≈°echny jablka v **`deleteMany`**, neexistuje ≈æ√°dn√Ω jablko, tedy n√°vrat 0).

![mongo_delete1_code](https://cdn.illacloud.com/official-website/img/docs/mongo_delete1_code.png)

#### odli≈°n√Ω

naƒçte pole jedineƒçn√Ωch hodnot pro zadan√© pole v kolekci

** Input **

| Vlastnosti | Po≈æadov√°no | L 343, 22.12.2009, s. 1).                                                 |
| ---------- | ---------- | ------------------------------------------------------------------------- |
| Dotaz      | voliteln√©  | specifikuje krit√©ria v√Ωbƒõru pro odli≈°nou operaci                          |
| Pole       | vy≈æadov√°no | urƒçuje pole pro naƒçten√≠ odli≈°n√Ωch hodnot.                                 |

Nap≈ô√≠klad m≈Ø≈æeme m√≠t `{"type":"orange"}` pro **`Query`** a `_id` pro **`Field`**.

** V√Ωstup **

pole odli≈°n√Ωch hodnot

![mongo_dist_data](https://cdn.illacloud.com/official-website/img/docs/mongo_dist_data.png)

Pou≈æij `{{mongodb1.data[0].result.map(item =>({"result":item}))}}` k z√≠sk√°n√≠ pole.

![mongo_dist_code](https://cdn.illacloud.com/official-website/img/docs/mongo_dist_code.png)

#### naj√≠t

z√≠skat dokumenty z kolekce, kter√© odpov√≠daj√≠ stanoven√©mu souboru krit√©ri√≠

** Input **

| Vlastnosti       | Po≈æadov√°no | L 343, 22.12.2009, s. 1).                                                                                                  |
| ---------------- | ---------- | -------------------------------------------------------------------------------------------------------------------------- |
| Dotaz            | voliteln√©  | specifikuje krit√©ria v√Ωbƒõru pro nalezenou operaci                                                                          |
| Projekce         | voliteln√©  | specifikuje, kter√° pole zahrnout nebo vylouƒçit do v√Ωsledk≈Ø dotazu                                                          |
| Se≈ôadit podle    | voliteln√©  | up≈ôesnit po≈ôad√≠ vr√°cen√Ωch dokument≈Ø                                                                                        |
| Limit            | voliteln√©  | omezit poƒçet vr√°cen√Ωch dokument≈Ø, v√Ωchoz√≠ hodnota bez omezen√≠. Limit 0 odpov√≠d√° nulov√©mu limitu.                           |
| P≈ôeskoƒçit        | voliteln√©  | specifikovat poƒçet dokument≈Ø, kter√© maj√≠ b√Ωt p≈ôeskoƒçeny, v√Ωchoz√≠ na 0.                                                     |

Nap≈ô√≠klad, abychom na≈°li id, cenu a typ v≈°ech pomeranƒç≈Ø se≈ôazen√Ωch podle jejich idu.

Pro **`Query`**, `{"type": "oran≈æov√°"}`

Pro **`Projection`**, `{"_id": 1, "type": 1, "price": 1}`
Pro **`Sort By`**, `{"_id":1}`

Pozn√°mka: "1" nahraƒète "true" st√°le to dƒõl√°!

** V√Ωstup **

Soubor objekt≈Ø dokument≈Ø

![mongo_find_data](https://cdn.illacloud.com/official-website/img/docs/mongo_find_data.png)

Pou≈æij `{{mongodb1.data[0].result}}` k z√≠sk√°n√≠ pole.

![mongo_find_code](https://cdn.illacloud.com/official-website/img/docs/mongo_find_code.png)

#### n√°lez

naƒç√≠st prvn√≠ dokument z kolekce, kter√° odpov√≠d√° zadan√©mu souboru krit√©ri√≠

** Input **

| Vlastnosti      | Po≈æadov√°no | L 343, 22.12.2009, s. 1).                                                         |
| --------------- | ---------- | --------------------------------------------------------------------------------- |
| Dotaz           | voliteln√©  | specifikuje krit√©ria v√Ωbƒõru pro nalezenou operaci                                 |
| Projekce        | voliteln√©  | specifikuje, kter√° pole zahrnout nebo vylouƒçit do v√Ωsledk≈Ø dotazu                 |
| P≈ôeskoƒçit       | voliteln√©  | specifikovat poƒçet dokument≈Ø, kter√© maj√≠ b√Ωt p≈ôeskoƒçeny, v√Ωchoz√≠ na 0.            |

Nap≈ô√≠klad, abychom na≈°li id, cenu a typ v≈°ech pomeranƒç≈Ø se≈ôazen√Ωch podle jejich idu.

Pro **`Query`**, `{"type": "oran≈æov√°"}`

Pro **`Projection`**, `{"_id": 1, "type": 1, "price": 1}`

Pozn√°mka: "1" nahraƒète "true" st√°le to dƒõl√°!

** V√Ωstup **

Soubor objekt≈Ø dokument≈Ø

![mongo_find1_data](https://cdn.illacloud.com/official-website/img/docs/mongo_find1_data.png)

Pou≈æij `{{[mongodb1.data[0].result]}}` k z√≠sk√°n√≠ pole.

![mongo_find1_code](https://cdn.illacloud.com/official-website/img/docs/mongo_find1_code.png)

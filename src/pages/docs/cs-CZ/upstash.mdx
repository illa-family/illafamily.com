---
title: Vylep≈°it
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/427?languages=cs&filter=basic&value=0
metaTitle: Integrace Upstash Doc | ILLA Cloud
desc: Nauƒçte se p≈ôipojit datab√°zi Upstash Redis k ILLA Cloud a vytv√°≈ôet aplikace, kter√© mohou dotazovat, manipulovat a zobrazovat data
tagCategory: doc_menu_upstash_click
categoryName: üî® Integrace
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>Co je Upstash?</h2>

Upstash je slu≈æba bez cloudu se serverem kompatibiln√≠ s Redis, kter√° poskytuje snadn√Ω zp≈Øsob integrace funkce Redis do aplikac√≠. V kontextu ILLA Cloud integrace Upstash umo≈æ≈àuje u≈æivatel≈Øm vyu≈æ√≠t funkce a mo≈ænosti Upstash v aplikaci ILLA Cloud.

Tento kurz nasti≈àuje proces vytv√°≈ôen√≠ Admin panelu pomoc√≠ ILLA Builder a Upstash v nƒõkolika jednoduch√Ωch kroc√≠ch. ILLA Cloud je n√≠zkoprogramov√° platforma pro v√Ωvoj√°≈ôe, kter√° umo≈æ≈àuje rychl√Ω v√Ωvoj a zav√°dƒõn√≠ intern√≠ch n√°stroj≈Ø. Umo≈æ≈àuje vytv√°≈ôet str√°nky p≈ôeta≈æen√≠m a vypou≈°tƒõn√≠m komponent u≈æivatelsk√©ho rozhran√≠, p≈ôipojen√≠m k datab√°zi nebo API a psan√≠m JavaScript. Chcete-li se dozvƒõdƒõt v√≠ce o Upstash, nav≈°tivte jejich webov√© str√°nky na https://upstash.com/(https://upstash.com/) Zaƒçnƒõte!

### Nastavte si sv≈Øj backend v Upstash

Vytvo≈ôte si √∫ƒçet v Upstash. M≈Ø≈æete se p≈ôihl√°sit pomoc√≠ sv√Ωch √∫ƒçt≈Ø Amazon, Github nebo Google.

Po p≈ôihl√°≈°en√≠ do va≈°eho √∫ƒçtu na `Upstash`, kliknƒõte na tlaƒç√≠tko `Vytvo≈ôit datab√°zi` v Redis.

![up_home](https://cdn.illacloud.com/official-website/img/docs/up_home.jpg)

Na n√°stƒõnce `Upstash`, kliknƒõte na `Vytvo≈ôit datab√°zi`.

![up_create_db](https://cdn.illacloud.com/official-website/img/docs/up_create_db.jpg)

Pozn√°mka: m≈Ø≈æete m√≠t pouze jednu datab√°zi ve voln√© vrstvƒõ.

Pro konfiguraci datab√°ze m≈Ø≈æete pojmenovat datab√°zi tak, jak chcete. Zde to pojmenujeme `db1`. Vyberte si ```prim√°rn√≠ region`` a ```ƒçtƒõte region\``na z√°kladƒõ va≈°ich m√≠st pro psan√≠ a ƒçten√≠ u≈æivatel≈Ø. Povolit`TSL/SSL\`. Pro povolen√≠ vystƒõhov√°n√≠ je voliteln√©.

![up_db_config](https://cdn.illacloud.com/official-website/img/docs/up_db_config.jpg)

Klikni na tlaƒç√≠tko **`create`**, m√°me nyn√≠ datab√°zi p≈ôipravenou k pou≈æit√≠.

### Vytvo≈ôit Upstash v ILLA Cloud

Po p≈ôihl√°≈°en√≠ do va≈°eho √∫ƒçtu Illa existuj√≠ dva zp≈Øsoby, jak vytvo≈ôit zdroj v Illa.

-   Vytvo≈ôit ve zdroj√≠ch

P≈ôihlaste se ke sv√©mu √∫ƒçtu Illa, vyberte `**Resources**` v horn√≠ ƒç√°sti str√°nky a kliknƒõte na tlaƒç√≠tko `**Vytvo≈ôit Nov√©**`.

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

Vyberte **`Upstash`** ze seznamu datab√°z√≠.

![action_list_0](https://cdn.illacloud.com/official-website/img/docs/action_list_0.jpg)

P≈ôipojte se k datab√°zi s po≈æadovan√Ωmi parametry popsan√Ωmi v ƒç√°sti `Nastaven√≠ p≈ôipojen√≠` n√≠≈æe.

Klepnƒõte na tlaƒç√≠tko `**Test Connection**` a zjistƒõte, zda se m≈Ø≈æeme √∫spƒõ≈°nƒõ p≈ôipojit k datab√°zi. Pokud ano, kliknƒõte na **`Ulo≈æit zdroje`**, jinak dvakr√°t zkontrolujte hostname, port, u≈æivatelsk√© jm√©no a heslo je spr√°vn√©.

Po vytvo≈ôen√≠ zdroje se p≈ôipraven√Ω `Upstash` zobraz√≠ podle zobrazen√≠.

![up_ex_ready](https://cdn.illacloud.com/official-website/img/docs/up_ex_ready.jpg)

-   Vytvo≈ôit ve staviteli

P≈ôihlaste se ke sv√©mu √∫ƒçtu Illa, vytvo≈ôte projekt v Illa Builder na str√°nce `**App**` a p≈ôejdƒõte na **`Seznam akc√≠`** v doln√≠ ƒç√°sti str√°nky. Kliknƒõte na `**nov√©**`, pak vyberte **`Upstash`** z datab√°zov√©ho seznamu. Pot√© se p≈ôipojte k datab√°zi s po≈æadovan√Ωmi parametry popsan√Ωmi v ƒç√°sti `Nastaven√≠ p≈ôipojen√≠` n√≠≈æe.

Klepnƒõte na tlaƒç√≠tko `**Test Connection**` a zjistƒõte, zda se m≈Ø≈æeme √∫spƒõ≈°nƒõ p≈ôipojit k datab√°zi. Pokud ano, kliknƒõte na **`Ulo≈æit zdroje`**, jinak dvakr√°t zkontrolujte hostname, port, u≈æivatelsk√© jm√©no a heslo je spr√°vn√©.

### Nastaven√≠ p≈ôipojen√≠

Zde mus√≠me poskytnout informace pro p≈ôipojen√≠ k datab√°zi Upstash.

![up_config](https://cdn.illacloud.com/official-website/img/docs/up_config_rev.jpg)

| Vlastnosti    | Po≈æadov√°no | Popis                                                                                                           |
| ------------- | ---------- | --------------------------------------------------------------------------------------------------------------- |
| N√°zev         | vy≈æadov√°no | N√°zev zdroje p≈ôi vytv√°≈ôen√≠ akc√≠ v ILLA.                                                                         |
| Hostname      | vy≈æadov√°no | URL nebo IP adresa pro va≈°i datab√°zi                                                                            |
| P≈ô√≠stav       | vy≈æadov√°no | ƒå√≠slo portu hostitele, kter√© byste mƒõli pou≈æ√≠t k p≈ôipojen√≠. Pokud nespecifikujete port, v√Ωchoz√≠ port je '6379'. |
| Heslo         | vy≈æadov√°no | Pou≈æ√≠t toto heslo pro ovƒõ≈ôen√≠.                                                                                  |
| Mo≈ænosti SSL  | vy≈æadov√°no | zda povolit SSL (doporuƒçit povolen√≠)                                                                            |

Za √∫ƒçelem vyplnƒõn√≠ po≈æadovan√Ωch informac√≠ p≈ôejdƒõte na str√°nku datab√°zov√©ho ≈ô√≠dic√≠ho panelu a kliknƒõte na datab√°zi, kterou jsme pr√°vƒõ vytvo≈ôili ve va≈°em Upstashu.

![up_info](https://cdn.illacloud.com/official-website/img/docs/up_info.jpg)

M≈Ø≈æete ji zkop√≠rovat pomoc√≠ my≈°i p≈ôes koncov√Ω bod, heslo a port a kliknut√≠m na ikonu Kop√≠rovat text za n√≠.

V konfiguraci integrace Upstash v ILLA Cloudu zadejte jm√©no, kter√© chcete zadat `jm√©no`, `Endpoint` pro `hostname`, zad√°no `Port` pro `Port`, a zkop√≠rujte ≈°ifrovan√© `Heslo` pro `Heslo`.

![up_config_done](https://cdn.illacloud.com/official-website/img/docs/up_config_rev_done.jpg)

### Vytvo≈ôit akce

Vytvo≈ôili jsme zdroj Upstash, akci m≈Ø≈æeme p≈ôidat v√Ωbƒõrem Upstash ze seznamu akc√≠ a v√Ωbƒõrem tlaƒç√≠tka **`Vytvo≈ôit akci`**.

![up_resource_list](https://cdn.illacloud.com/official-website/img/docs/up_resource_list.jpg)

Nyn√≠ jsme p≈ôidali Upstash server jako akci na na≈°i str√°nku budovy.

![upstash](https://cdn.illacloud.com/official-website/img/docs/upstash.jpg)

### Konfigurace aktualizace

| Vlastnosti    | Popis                                                                        |
| ------------- | ---------------------------------------------------------------------------- |
| Redis dotaz   | pou≈æ√≠t dotaz k naƒçten√≠ a manipulaci s daty ulo≈æen√Ωmi v datab√°zi Redis        |
| Transform√°tor | transformace dat do stylu, kter√Ω se v√°m l√≠b√≠ pomoc√≠ JavaScriptu              |

P≈ô√≠klad pou≈æit√≠:

1.  Z√≠skat hodnoty:
    -   Z√≠skejte hodnotu: pou≈æijte p≈ô√≠kaz **`GET`** k naƒçten√≠ hodnoty p≈ôi≈ôazen√© ke konkr√©tn√≠mu kl√≠ƒçi. Nap≈ô√≠klad: **`GET key`**.
2.  Nastavit hodnoty:
    -   Nastavte hodnotu: pou≈æijte p≈ô√≠kaz **`SET`** k nastaven√≠ hodnoty kl√≠ƒçe. Nap≈ô√≠klad **`SET kl√≠ƒçov√° hodnota`**.
3.  Hash operace:
    -   Nastavte dvojice hodnot pol√≠ v hash: pou≈æijte p≈ô√≠kaz **`HSET`** k nastaven√≠ dvojice hodnot pol√≠ v hashu. Nap≈ô√≠klad: **`HSET hashKey hodnota`**.
    -   Z√≠skej hodnotu z hash: pou≈æij p≈ô√≠kaz **`HGET`** k naƒçten√≠ hodnoty konkr√©tn√≠ho pole v hashu. Nap≈ô√≠klad: **`HGET hashKey pole`**.
4.  Seznam operac√≠:
    -   P≈ôidejte prvek do seznamu: pou≈æijte p≈ô√≠kaz **`LPUSH`** nebo **`RPUSH`** pro p≈ôid√°n√≠ prvku na zaƒç√°tek nebo konec seznamu. Nap≈ô√≠klad: **`LPUSH listKey hodnota`**.
    -   Naƒç√≠st prvky ze seznamu: pou≈æijte p≈ô√≠kaz **`LRANGE`** k naƒçten√≠ ≈ôady prvk≈Ø ze seznamu. Nap≈ô√≠klad: **`LRANGE listKey start end`**.
5.  Nastavit operace:
    -   P≈ôidej prvky do sady: pou≈æij p≈ô√≠kaz **`SADD`** pro p≈ôid√°n√≠ jednoho nebo v√≠ce prvk≈Ø do sady. Nap≈ô√≠klad: **`hodnota SITD setKey hodnota1`**.
    -   Naƒç√≠st prvky ze sady: pou≈æijte p≈ô√≠kaz **`SMEMBERS`** k z√≠sk√°n√≠ v≈°ech ƒçlen≈Ø sady. Nap≈ô√≠klad: **`SMEMBERS setKey`**.
6.  Se≈ôazen√© operace:
    -   P≈ôidej prvky do se≈ôazen√© sady: pou≈æij p≈ô√≠kaz **`ZADD`** k p≈ôid√°n√≠ prvk≈Ø do se≈ôazen√© sady spolu s jejich sk√≥re. Nap≈ô√≠klad: **`ZADD t≈ô√≠dƒõn√≠ SetKey sk√≥re1 member1 score2 member2`**.
    -   Z√≠skat prvky z se≈ôazen√© sady: Pou≈æijte p≈ô√≠kaz **`ZRANGE`** k naƒçten√≠ ≈ôady prvk≈Ø z se≈ôazen√© sady na z√°kladƒõ jejich sk√≥re. Nap≈ô√≠klad: **`ZRANGE t≈ô√≠dƒõn√≠ SetKey skonƒçil`**.

Pozn√°mka: M≈Ø≈æete odkazovat na dokumentaci Redis pro √∫pln√Ω seznam p≈ô√≠kaz≈Ø a jejich pou≈æ√≠v√°n√≠.

### P≈ô√≠pad pou≈æit√≠

D√°le uk√°≈æeme, jak mapovat data ze slo≈æky `**Upstash**` na `tabulku`.

#### Krok 1 P≈ôidat akci

Vytvo≈ôme tabulku v Upstash s n√°zvem **`Zamƒõstnane_profile`,** vƒçetnƒõ 4 sloupc≈Ø `name`, `level`, `age`, a `man≈æelstv√≠`.

Pak m≈Ø≈æeme vytvo≈ôit novou akci pro Upstash ze seznamu akc√≠ v ILLA Cloud a n√°zev upstash2.

Chcete-li zobrazit v≈°echna data v profilu zamƒõstnance, vlo≈æte textov√Ω blok n√≠≈æe v sekci Redis dotaz.

```sql
GET zamƒõstnanec_profil
```

Vzhledem k tomu, ≈æe v√Ωstupn√≠ data jsou seznamem slovn√≠k≈Ø, chceme je p≈ôemƒõnit na pole. V transform√°toru jej povolte a vlo≈æte n√≠≈æe uveden√Ω k√≥d.

```jsx
const jsonString = data[0].result;

// Parse the JSON string into a JavaScript object
const jsonData = JSON.parse(jsonString);

// Access the "employees" property and map it to a new array
const mappedArray = jsonData.employees.map((employee) => ({
  name: employee.name,
  level: employee.level,
  age: employee.age,
  married: employee.married,
}));

return mappedArray;
```

![up_code](https://cdn.illacloud.com/official-website/img/docs/up_code.jpg)

Kliknƒõte na **`Ulo≈æit`** a **`Spustit`** pro aktivaci t√©to akce.

![up_data](https://cdn.illacloud.com/official-website/img/docs/up_data.jpg)

#### Krok 2 P≈ôidat komponenty

D√°le m≈Ø≈æeme p≈ôidat komponentu **`tabulky`** do pl√°tna.

Do pole **`Zdroj √∫daj≈Ø`** na str√°nce Po kliknut√≠ na komponentu vlo≈æte `{{upstash2.data}}` pro naƒçten√≠ dat z upstashu.

#### Krok 3 Zkou≈°ka

Koneƒçn√Ω pohled by mƒõl b√Ωt tak n√°zorn√Ω.

![up_test](https://cdn.illacloud.com/official-website/img/docs/up_test.jpg)

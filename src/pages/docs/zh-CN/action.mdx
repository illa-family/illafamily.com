---
title: 查询
metaTitle: ILLA Cloud 查询 doc
tagCategory: doc_menu_action_click
desc: Actions are the bridge between data and components and are an essential part of building an application.
---

* * *

## <Heading hidden>查询</Heading>

在创建资源后，我们需要将资源内的数据提取出来，按照逻辑要求选择、筛选、合并数据后处理后放入组件， 我们将这个数据处理的过程称为Action。 Action是数据与组件之间的桥梁，也是搭建应用的过程中必不可缺的一部分。 我们将Action分成了两类：分别是查询与转换器（Transformer）

### SQL查询

#### 创建查询

使用SQL查询的过程主要分为以下几步：

1.  首先，用户需要在应用编辑页面的左下方找到Action列表，在Action列表的右上方点击加号。
2.  接着，在弹出的资源选择框中选择相应的SQL数据源列表。 您可以在对应的数据源列表中找到已创建的资源，也可以在此处创建新的资源。 选中已创建的资源，点击创建， 一个SQL查询就被成功创建了。
3.  成功创建出的查询将被展示在底部面板的Action列表中， 点击后画布下方会弹出该查询的通用选项卡， 您可以在选项卡中切换资源，书写查询语句、响应内容，加入转换器、事件处理器。
4.  填完查询内容后，您可以点击预览按钮查看您编写的查询是否有效， ，配置面板会给出查询结果。 查询编辑完成后，您可以点击保存并退出结束流程。 若您在未保存的情况下切换至其他Action，系统会弹窗提示您完成保存Action。

#### 查询分解

1.  查询模块（Query） ：您可以在查询模块中输入查询语句，我们引入了Code Mirror编辑器，实现了查询语句高亮与代码补全等功能。 在后续更新中，我们会在书写查询语句处提供GUI输入模式，让不熟悉查询语句的用户也能完成数据查询。
2.  转换器（Transformer）：您可以在转换器中用JavaScript语句完善查询逻辑，例如在JS中使用filter函数代替查询语句中的where函数。
3.  事件处理器（event handler）：事件处理器允许您触发查询、控制组件等行为以响应用户交互。 您可以在不添加自定义JavaScript语句的前提下添加多个事件处理程序以响应一个事件。 例如，当用户单击一个按钮时，您可以(1)触发一个查询来运行，同时(2)重置多个下拉列表和文本输入的状态。
4.  响应（Response）：在响应模块中，您可以自定义查询返回结果错误的条件，通过这样的方式保证查询的准确性。
5.  高级（Advanced）：在高级选项内完善查询的详细设置，例如数据库的超时响应时间、事件处理器延迟等。

### API查询

#### 创建查询

使用API数据查询的过程与SQL大致相同：

1.  首先，用户需要在应用编辑页面的左下方找到Action列表，在Action列表的右上方点击加号。
2.  接着，在弹出的资源选择框中选择相应的数据源列表。 您可以在对应的数据源列表中找到已创建的资源，也可以在此处创建新的资源。 选中已创建的资源，点击创建，一个API查询就被成功创建了。
3.  成功创建出的查询将被展示在底部面板的Action列表中，点击后画布下方会弹出该查询的通用选项卡。 您可以在ILLA中向任何HTTP API发出请求， 数据请求方法请查看APIs文档。
4.  填完查询内容后，您可以点击预览按钮查看您编写的查询是否有效，配置面板会给出查询结果。 编辑完查询后，您可以点击保存并退出结束流程， 若您在未保存的情况下切换至其他Action，系统会弹窗提示您完成保存Action。

#### 查询分解

1.  转换器（Transformer）：您可以在转换器中用JavaScript语句完善查询逻辑，例如在JS中使用filter函数代替查询语句中的where函数。
2.  事件处理器（event handler）：事件处理器允许您触发查询、控制组件等行为以响应用户交互。 您可以在不添加自定义JavaScript语句的前提下添加多个事件处理程序以响应一个事件。 例如，当用户单击一个按钮时，您可以(1)触发一个查询来运行，同时(2)重置多个下拉列表和文本输入的状态。

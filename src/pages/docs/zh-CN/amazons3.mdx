---
title: Amazon S3
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/369?languages=zhcn&filter=basic&value=0
metaTitle: Amazon S3 集成Doc | ILLA Cloud
desc: 探索如何使用ILLA Cloud的数据库集成功能与您的 Amazon S3 API进行连接和交互。 查看本指南了解更多详情。
tagCategory: doc_menu_amazon_s3_click
categoryName: 🔨 集成
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>Amazon S3是什么？</h2>

Amazon S3是由Amazon Web Services(AWS)提供的高度可扩展和安全的云存储服务。 当与 ILLA Cloud合并时，开发人员可以将Amazon S3 无缝地整合到他们的应用程序中，利用它的强大存储能力有效地存储和检索数据。 ILLA Cloud简化了集成过程，允许开发人员无缝连接到 Amazon S3 并使用其强大的功能。 例如数据加密、版本化、存取控制和无缝可扩展性。 在ILLA Cloud上整合Amazon S3后，开发人员可以通过可靠和可扩展的存储解决方案加强他们的应用程序。 使他们能够集中精力积累创新的和由数据驱动的经验。

### 创建 Amazon S3 API

在登录到您的 Illa 帐户后，有两种方式在Illa 中创建资源。

-   在资源中创建

登录到您的 Illa 帐户，在页面顶部选择 `**资源**` 并点击 `**创建新的**` 按钮。

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

从 API 列表中选择 **`Amazon S3`** 。

![action_list](https://cdn.illacloud.com/official-website/img/docs/action_list.png)

使用下面`链接设置`描述的必填参数连接到数据库。

点击 "**测试连接**" 查看我们是否可以成功地连接到数据库。 如果是，请点击 **\`保存资源** \*，请重新检查主机名、端口、用户名和密码是否正确。

创建资源后，已准备好的 Amazon S3 将显示。

![amazon_ex_ready](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_ex_ready.jpg)

-   在构建器中创建

登录您的 Illa 帐户，在`**App**` 页面上的 Illa Builder 创建一个项目 并导航到页面底部的 **`Action List` **。 点击`**新**`，然后从数据库列表中选择 **`Amazon S3`** 。 然后，用下面`链接设置`描述的参数连接到数据库。

点击 "**测试连接**" 查看我们是否可以成功地连接到数据库。 如果是，请点击 **\`保存资源** \*，请重新检查主机名、端口、用户名和密码是否正确。

### 连接设置

这里我们需要提供连接到 Amazon S3 API的信息。

![amazon_config](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_config.jpg)

| 属性                      | 必填  | 描述                                                                                                                                                                                                       |
| ----------------------- | --- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 名称                      | 必填  | 在 ILLA 中创建动作时的资源名称。                                                                                                                                                                                      |
| 圆桶名称                    | 可选的 | 一个代表亚马逊S3存储容器的唯一标识符。 它为组织和访问您的文件提供了一个逻辑分隔。                                                                                                                                                               |
| 用于上传文件的 S3 ACL          | 可选的 | 允许您定义您的 bucket 文件的精细访问权限。 它指定了谁可以执行特定操作，如阅读、写作或删除文件。                                                                                                                                                     |
| 地区                      | 必填  | 存储您的 Amazon S3 桶的地理位置。 它决定您数据的物理位置，可能会影响延迟和数据传输成本等因素。                                                                                                                                                    |
| 自定义 S3 终点               | 可选的 | 允许您配置一个特定的终点URL来访问您的 Amazon S3 资源。 它可以用于您想要使用自定义域名或与 CDN 集成的场景(内容发送网络)。                                                                                                                                  |
| 访问密钥                    | 必填  | 验证您访问Amazon S3请求的凭据                                                                                                                                                                                      |
| 秘密访问密钥                  | 必填  | 当您创建一个 IAM (Identity and Access Management) 用户或 AWS (Amazon Web Services) 访问密钥对时生成的。                                                                                                                     |

### 创建动作

我们创建了亚马逊S3资源， 我们可以通过从动作列表中选择Amazon S3并选择 **`创建动作`** 按钮来添加动作。

![amazon_resource_list](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_resource_list.jpg)

现在我们已经将亚马逊服务器添加到我们的建筑页面作为动作。

![amazon](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon.jpg)

### 配置Amazon S3

#### 概览

| 方法名称 | 描述                                                                                                                                    |
| ---- | ------------------------------------------------------------------------------------------------------------------------------------- |
| 操作类型 | 将所有对象列在桶中，读取对象，下载对象，删除对象，删除对象，删除多个对象，上传数据，上传多个数据                                                                                      |
| 圆桶名称 | 一个代表亚马逊S3存储容器的唯一标识符。                                                                                                                  |
| 转化器  | 将数据转换为你喜欢使用 JavaScript 的样式                                                                                                            |

#### 列出一个桶中的所有对象

检索存储在特定存储桶中的所有对象的列表。

** Input **

| 属性                  | 必填  | 描述                                                                                |
| ------------------- | --- | --------------------------------------------------------------------------------- |
| 过滤结果的前缀             | 可选的 | 筛选结果以只包括其键(名称)以特定前缀开头的对象                                                          |
| 分隔符                 | 可选的 | 指定分隔对象键层次的字符                                                                      |
| 生成签名的 URL           | 可选的 | 是否生成一个有时间限制的URL，提供对特定对象的临时访问                                                      |
| 最大键                 | 可选的 | 限制回复中返回对象的最大数量                                                                    |

例如，获取数据库中的所有对象。

** 输出 **

返回对象数组，每个数组包含至少一个 `objectKey` 属性。

![amazon_list_all_data](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_list_all_data1.jpg)

使用{{s31.data}}获取所有返回的数据。

![amazon_list_all_code](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_list_all_code1.jpg)

#### 读取对象

检索存储在一个桶中的特定对象的内容

** Input **

| 属性            | 必填  | 描述                                                                     |
| ------------- | --- | ---------------------------------------------------------------------- |
| 对象密钥          | 必填  | 该对象在bucket 中的名称或路径                                                     |
| 生成签名的 URL     | 可选的 | 生成一个临时访问特定对象的 URL                                                      |

例如，若要获取文档 '1111.txt'，请将 '1111.txt' 放为 **`Object key`** 。

** 输出 **

返回文档的内容和元数据

![amazon_read_data1](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_read_data1.jpg)

![amazon_read_data2](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_read_data2.jpg)

使用{{s31.data}}获取返回的数据。

![amazon_read_code](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_read_code.jpg)

#### 下载对象

检索存储在一个桶中的特定对象的内容

** Input **

| 属性            | 必填  | 描述                                                                     |
| ------------- | --- | ---------------------------------------------------------------------- |
| 对象密钥          | 必填  | 该对象在bucket 中的名称或路径                                                     |
| 生成签名的 URL     | 可选的 | 生成一个临时访问特定对象的 URL                                                      |

例如，若要下载文档 '1111.txt'，请将 '1111.txt' 放为 **`Object key`** 。

** 输出 **

返回文档的内容和元数据并下载到本地文件

![amazon_read_data1](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_download_data.jpg)

#### 删除对象

从 S3 桶中删除单个对象。

** Input **

| 属性            | 必填  | 描述                                                                     |
| ------------- | --- | ---------------------------------------------------------------------- |
| 对象密钥          | 必填  | 该对象在bucket 中的名称或路径                                                     |
| 生成签名的 URL     | 可选的 | 生成一个临时访问特定对象的 URL                                                      |

例如，若要删除文档'1111.txt'，请将`1111.txt` 放在**`Object key`**上。

** 输出 **

返回删除文档的内容和元数据

![amazon_delete_data](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_delete_data.jpg)

![amazon_delete_data1](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_delete_data1.jpg)

#### 删除多个对象

从S3桶同时删除多个对象

** Input **

| 属性            | 必填  | 描述                                                                     |
| ------------- | --- | ---------------------------------------------------------------------- |
| 对象密钥          | 必填  | 该对象在bucket 中的名称或路径                                                     |
| 生成签名的 URL     | 可选的 | 生成一个临时访问特定对象的 URL                                                      |

例如，若要删除多个文档，请为 **`Object key`**放置`{{["images.jpeg", "images-1.png"]}}`。

** 输出 **

返回删除文档的内容和元数据

![amazon_delete2_data1](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_delete2_data1.jpg)

![amazon_delete2_data2](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_delete2_data2.jpg)

#### 上传数据

正在将对象上传到一个桶中

** Input **

| 属性                             | 必填  | 描述                                                                              |
| ------------------------------ | --- | ------------------------------------------------------------------------------- |
| 内容类型                           | 必填  | 您要上传的对象的 MIME 类型。                                                               |
| 上传对象名称                         | 必填  | 您要上传的对象的名称。                                                                     |
| 上传数据                           | 必填  | 您想要上传到Amazon S3的数据。                                                             |
| 上传文件的超时 (分钟)                   | 可选的 | 上传过程因超时错误停止前几分钟上传时间                                                             |

例如，若要删除多个文档，请为 **`content type`**, `text.txt` 为 **`上传对象名称`**, 和 `text` 为 **`upload`**。

** 输出 **

返回是否成功上传文档的消息

![amazon_upload_data1](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_upload_data1.jpg)

![amazon_upload_data2](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_upload_data2.jpg)

#### 上传多个数据

将对象列表上传到一个bucket

** Input **

| 属性                            | 必填  | 描述                                                                              |
| ----------------------------- | --- | ------------------------------------------------------------------------------- |
| 内容类型                          | 必填  | 您要上传的对象的 MIME 类型。                                                               |
| 上传对象名称列表                      | 必填  | 您要上传的对象的名称列表。                                                                   |
| 上传数据列表                        | 必填  | 您想要上传到 Amazon S3 的数据列表。                                                         |
| 上传文件的超时 (分钟)                  | 可选的 | 上传过程因超时错误停止前几分钟上传时间                                                             |

例如，要删除多个文档，将 `text` 用于 **`content type`**，`{{['text.txt', 'text2.txt']}}` 用于 **`upload object name list` **，和 `{{['text', 'text2']}}` 用于 **`上传数据列表`**。

** 输出 **

返回是否成功上传文档的消息

![amazon_upload_data1](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_upload_data1.jpg)

![amazon_upload_data2](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_upload_data2.jpg)

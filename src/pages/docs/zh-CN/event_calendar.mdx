---
title: 活动日历
metaTitle: 事件日历组件 Doc | ILLA Cloud
desc: 学习如何使用事件日历组件在 ILLA Cloud中自定义您的应用。
tagCategory: doc_menu_event_calendar_click
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/425?languages=zhcn&filter=basic&value=0
categoryName: 🧬 组装组件
categoryPriority: 6
postPriority: 1
---

## <h2 hidden>事件日历是什么？</h2>

ILLA Cloud中的事件日历组件是一个强有力的工具，用于以具有视觉吸引力和方便用户的方式组织和显示活动。 它允许用户轻松创建、管理和展示事件，提供日期导航、事件分类和详细事件信息等功能。 事件日历组件提供可自定义的布局、直观事件创建接口以及与其他系统整合的选项。 • 使其成为企业和组织有效管理和宣传其活动的重要工具。

### 属性

#### 手动选项

添加新选项或手动删除选项，并逐个配置选项。 备选办法的特性如下：

| 属性             | 描述                                                                                                                                         |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| 事件 id          | 唯一识别日历中的每个事件                                                                                                                               |
| 标题             | 事件的标题或名称                                                                                                                                   |
| 描述             | 事件描述                                                                                                                                       |
| 开始             | 事件的开始日期和时间                                                                                                                                 |
| 结束             | 活动结束日期和时间                                                                                                                                  |
| 资源 id          | 识别与事件相关的资源或实体                                                                                                                              |
| 资源标题           | 与事件相关的资源的标题或名称                                                                                                                             |
| 全天             | 事件是否为全天事件                                                                                                                                  |
| 可拖动            | 事件是否可以拖动或在日历接口中移动                                                                                                                          |
| Resizable      | 是否允许用户更新事件时间范围并通过拖动事件的边框来更改时间跨度，或者缩短时间跨度。                                                                                                  |

#### Mapped 选项

您也可以通过映射标签和值属性从数据源添加选项到相应的数据字段。 您可以通过这种方式动态地从数据库中获取选项。 在本条末尾，我们将展示如何通过一个例子来使用它。

| 属性             | 描述                                                                                                                                         |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| 数据源            | 设置选项的数据源                                                                                                                                   |
| 事件 id          | 用于识别事件的唯一ID                                                                                                                                |
| 标题             | 活动标题                                                                                                                                       |
| 描述             | 事件描述                                                                                                                                       |
| 开始             | 事件的开始时间                                                                                                                                    |
| 结束             | 事件结束时间                                                                                                                                     |
| 资源 id          | 资源可以是一个人、一个会议室等。 您可以设置资源ID并将其连接到事件。                                                                                                        |
| 资源标题           | 资源视图中显示的资源名称                                                                                                                               |
| 全天             | 是否全天活动                                                                                                                                     |
| 可拖动            | 是否允许用户通过拖动移动事件更新事件时间范围                                                                                                                     |
| Resizable      | 是否允许用户更新事件时间范围并通过拖动事件的边框来更改时间跨度，或者缩短时间跨度。                                                                                                  |

#### 其他属性

| 属性                                     | 描述                                                                                                            |
| -------------------------------------- | ------------------------------------------------------------------------------------------------------------- |
| 默认日期                                   | 默认日期值                                                                                                         |
| 资源网格                                   | 是否显示资源网格                                                                                                      |
| 默认视图                                   | 启动应用程序时的默认视图                                                                                                  |
| 事件处理程序                                 | 响应组件事件触发查询、控制组件或调用其他API。                                                                                      |
| 禁用拖动时自动发送消息                            | 拖动被禁用后，当用户拖动事件时，消息将显示。                                                                                        |
| 禁用缩放时自定义消息                             | 调整大小后，当用户调整事件大小时，信息将显示。                                                                                       |
| 显示当前时间                                 | 设置是否显示当前时间线                                                                                                   |
| Hidden                                 | 动态控制组件是否隐藏。 您可以通过动态布尔值更改隐藏状态。                                                                                 |
| 日历背景颜色                                 | 设置日历背景                                                                                                        |
| 日历文本颜色                                 | 设置文本颜色                                                                                                        |
| 事件背景颜色                                 | 设置事件卡的背景                                                                                                      |
| 事件文本颜色                                 | 设置事件卡的文本颜色                                                                                                    |

### 事件处理程序

| 事件                       | 描述                                     |
| ------------------------ | -------------------------------------- |
| 更改                       | 当用户更改事件值时                              |
| 选择                       | 当用户选择组件时                               |
| 拖动或单击无事件区域               | 当用户拖动或点击没有事件的区域                        |

### 数据

组件有一些常用的数据，可以通过应用程序中的 **`{{componentName.propertyName}}`** 调用。

| 属性名称               | 描述                                                                                                |
| ------------------ | ------------------------------------------------------------------------------------------------- |
| 边框颜色               | 指定日历组件周围边框的颜色或其中显示的事件                                                                             |
| 数据源                | 日历组件事件数据来源                                                                                        |
| 默认日期               | 设置日历加载或呈现时显示的初始日期                                                                                 |
| 默认视图               | 确定最初加载时显示日历的默认视图或模式                                                                               |
| 显示名称               | 此组件的名称 (如 按钮1)                                                                                    |
| 可拖动                | 启用或禁用在日历内拖动和移动事件的能力                                                                               |
| 事件                 | 当在数字输入组件中发生某些动作或事件时，生成或触发。                                                                        |
| 事件背景               | 指定日历中显示的事件元素的背景颜色或样式                                                                              |
| 事件配置模式             | 确定日历中事件的配置模式                                                                                      |
| 事件列表               | 要在日历组件内单独视图或面板中显示的事件列表                                                                            |
| 事件文本颜色             | 确定日历中显示的事件元素中文本或内容的颜色                                                                             |
| hidden             | 事件日历组件是否隐藏                                                                                        |
| 手动选项               | 手动配置或自定义事件日历中的各种选项或设置                                                                             |
| 映射选项               | 已映射或预定义事件日历组件的选项                                                                                  |
| resizable          | 启用或禁用调整日历中事件大小的能力                                                                                 |
| 资源映射列表             | 定义事件和资源在日历中的映射或关联                                                                                 |
| selectEndTime      | 决定在日历中选择或创建新事件的结束时间或日期                                                                            |
| 选择事件值              | 日历中选中或当前活动的事件值                                                                                    |
| 选择资源               | 确定与日历中选定或焦点事件相关的资源或实体                                                                             |
| selectStartTime    | 在日历中选择或创建一个新事件时，确定开始时间或日期                                                                         |
| 显示当前时间             | 确定当前时间指示器或标记是否显示在日历上                                                                              |
| 显示资源               | 是否在日历中显示或显示与事件相关的资源或实体                                                                            |
| 箱位背景               | 指定日历中时间段或单元格的背景颜色或样式                                                                              |
| 标题颜色               | 日历中事件的标题或标题颜色                                                                                     |

示例： {{eventCalendar1.events}}

### 使用大小写

接下来，我们将演示如何添加在事件日历上显示的新事件，并带有按钮。

#### 步骤 1 添加动作

让我们在 Supabase 中创建一个称为“事件”的表。 它有9列：`title`、`description`、`resource_id`、`resource_title`、`all_day`、`dragable`、`调整大小`、`start_time`和`end_time` 。

然后我们可以从动作列表中为 Supabase创建一个新的动作，用下面的代码片段列出所有数据，并名为 `supabasedb1.`

```sql
从事件中选择 * ；
```

从`只有当手动触发时才运行'更改为`当输入在右上角\`保存\*\* 按钮下方自动运行'。

点击 **\`保存** 和 **`Run`** 激活此操作。

![event_data](https://cdn.illacloud.com/official-website/img/official-site/components/event_data.jpg)

为了增加一个新事件，我们还需要采取另一个行动。 从名为“supabasedb2”的动作列表中选择相同的 Supabase 资源，并将代码片段放在下面。

```sql
INSERT INTO events (id, title, description, start_time, end_time, resource_id, resource_title, all_day, draggable, resizable)
VALUES ((SELECT MAX(id) + 1 FROM events), '{{input1.value}}', '{{input2.value}}', '{{dateTime1.value}}', '{{dateTime2.value}}', {{numberInput1.value}}, '{{input4.value}}', {{switch1.value}}, {{switch2.value}}, {{switch3.value}});
```

输入、数字输入、日期时间和开关组件来自模式组件。 下文对这些组成部分作了更详细的说明。

#### 步骤 2 配置动作

对于supabasedb2，当新事件信息被成功添加到数据库时我们想要显示通知。

在操作中，点击 `supabasedb2`, 在 `General` 页面, 向下滚动到 `Event handler` 。

1.  点击 **+ 新' ** 添加一个新的事件处理器。
2.  在编辑事件处理器中，选择 **\`显示通知** 在动作中，**`title`** "成功" 和 **`description`** "成功添加新事件。 选择 `Success` for **`type`**, 放置`{{2000}}` for **`duration` ** (2秒)

![event_action_success](https://cdn.illacloud.com/official-website/img/official-site/components/event_action_success.jpg)

#### 步骤 2 添加组件

接下来，我们可以将 **事件日历** 组件、 **`按钮`** 组件和 `**modal**` 组件添加到画布中。 将按钮组件标注为“添加新事件”。

![event_layout](https://cdn.illacloud.com/official-website/img/official-site/components/event_layout.jpg)

在模式组件中，我们将左上角的文本更改为“新事件”。 然后我们添加 `Title` 和 `Description` 两个输入组件， `Start time` 和 `End time` 两个日期时间组件， `Resource ID` 数字输入， 和 `Resource Title` 输入组件, `All day`, `Draggable` 和 `Resizable` 开关组件, 并根据需要给它们加上标签。

![event_modal_layout](https://cdn.illacloud.com/official-website/img/official-site/components/event_modal_layout.jpg)

#### 步骤 3 配置组件

对于`**事件日历**`组件, 我们可以映射`supabasedb1`中的数据以显示。 我们首先从选项中选择 "映射"，然后将"{{supabasedb1.data}}"放入数据源，并填写 "映射选项 "字段，如下所示。

![event_data_source](https://cdn.illacloud.com/official-website/img/official-site/components/event_data_source.jpg)

在 **`按钮`** 组件中，我们可以在点击时配置它来打开模式。

1.  点击 **`按钮`** 组件来打开它的检查页面。 在 **`Event handler`**下单击`**+ 新**`。
2.  在编辑事件处理器中，选择 **`Control component` ** 正在执行中。 并选择你想要更新的 **`modal`** 组件作为事件的目标。
3.  选择 **`openModal` ** 方法

![event_add_new_button](https://cdn.illacloud.com/official-website/img/official-site/components/event_add_new_button.jpg)

对于**`modal`** 组件, 我们可以配置它来在模式关闭时刷新`**事件日历**` 中显示的事件。

1.  点击 **`modal` ** 组件来打开它的检查页面。 在 **`Event handler`**下单击`**+ 新**`。
2.  在编辑事件处理器中，选择 **\`触发动作** 在动作中，并选择 **\`supabasedb** 你想要触发的 `Action name` 。 在我们的情况下，它是\`supabasedb1'。

![event_modal](https://cdn.illacloud.com/official-website/img/official-site/components/event_modal.jpg)

对于"取消" **`buton`** 组件，如果点击的话，我们可以配置它来关闭模式

1.  点击 **`按钮`** 组件来打开它的检查页面。 在 **`Event handler`**下单击`**+ 新**`。
2.  在编辑事件处理器中，选择 **`Control component` ** 正在执行中。 并选择你想要更新的 **`modal`** 组件作为事件的目标。
3.  选择 **`closeModal` ** 方法

![close_modal](https://cdn.illacloud.com/official-website/img/docs/close_modal.jpg)

“确认”**`按钮`**，我们希望它将填写在模式中的新数据插入到替代模式**`events`** 表和关闭模式中。

1.  点击 **`按钮`** 组件来打开它的检查页面。 在 **`Event handler`**下单击`**+ 新**`。
2.  在编辑事件处理器中，选择 **\`触发动作** 作为动作，并选择 `supabasedb2` 作为动作名称

![event_db2](https://cdn.illacloud.com/official-website/img/official-site/components/event_db2.jpg)

1.  点击 **+ 新' ** 添加一个新的事件处理器。
2.  在编辑事件处理器中，选择 **`Control component` ** 正在执行中。 并选择你想要更新的 **`modal`** 组件作为事件的目标。
3.  选择 **`closeModal` ** 方法

![close_modal](https://cdn.illacloud.com/official-website/img/docs/close_modal.jpg)

#### 步骤4 测试

现在我们可以测试如下所示。

![event_test](https://cdn.illacloud.com/official-website/img/official-site/components/event_test_2.gif)

---
title: Amazon S3
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/369?languages=ja&filter=basic&value=0
metaTitle: Amazon S3 統合ドキュメント | ILLA Cloud
desc: ILLA Cloud のデータベース統合機能を使用して、Amazon S3 APIに接続して操作する方法を学びます。
tagCategory: doc_menu_amazon_s3_click
categoryName: 🔨 統合
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>Amazon S3とは?</h2>

Amazon S3は、Amazon Web Services(AWS)が提供する、拡張性が高く安全なクラウドストレージサービスです。 ILLA Cloud と組み合わせると、開発者は自社のアプリケーションに Amazon S3 をシームレスに統合でき、堅牢なストレージ機能を活用してデータを効率的に保存および取得できます。 ILLA Cloudは統合プロセスを簡素化し、開発者がAmazon S3にシームレスに接続し、その強力な機能を利用できるようにします。 データ暗号化、バージョン管理、アクセス制御、シームレスなスケーラビリティなど。 Amazon S3をILLA Cloudに統合することで、開発者は信頼性が高くスケーラブルなストレージソリューションを使用してアプリケーションを強化できます。 革新的でデータ駆動型のエクスペリエンスの構築に集中できるようになります

### Amazon S3 APIを作成

Illaアカウントにログインした後、Illaにリソースを作成するには2つの方法があります。

-   リソースに作成

Illaアカウントにサインインし、ページの上部にある`**リソース**`を選択し、`**新規作成**`ボタンをクリックします。

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

API リストから **`Amazon S3`** を選択します。

![action_list](https://cdn.illacloud.com/official-website/img/docs/action_list.png)

下の「接続設定」で説明されている必要なパラメータを使用してデータベースに接続します。

データベースに正常に接続できるかどうかを確認するには、`**接続をテスト**` をクリックします。 はいの場合は**`リソースを保存`**をクリックします。それ以外の場合は、ホスト名、ポート、ユーザー名、パスワードが正しいことを確認してください。

リソースを作成すると、Ready Amazon S3が次のように表示されます。

![amazon_ex_ready](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_ex_ready.jpg)

-   ビルダーで作成

Illa アカウントにサインインし、`**App**` ページで Illa Builder でプロジェクトを作成します。 をクリックし、ページの下部にある **`Action List`** に移動します。 `**new**`をクリックし、データベース一覧から**`Amazon S3`**を選択します。 次に、下の「接続設定」で説明されている必要なパラメータを使用してデータベースに接続します。

データベースに正常に接続できるかどうかを確認するには、`**接続をテスト**` をクリックします。 はいの場合は**`リソースを保存`**をクリックします。それ以外の場合は、ホスト名、ポート、ユーザー名、パスワードが正しいことを確認してください。

### 接続設定

ここではAmazon S3 APIに接続するための情報を提供する必要があります。

![amazon_config](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_config.jpg)

| プロパティー                  | 必須   | 説明                                                                                                                                                                                                       |
| ----------------------- | ---- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 名前                      | 必須   | ILLAでアクションを作成する際のリソース名です。                                                                                                                                                                                |
| バケット名                   | 省略可能 | Amazon S3 のストレージコンテナを表す一意の識別子 ファイルの整理とアクセスのための論理的な分離を提供します                                                                                                                                               |
| アップロードされたファイルの S3 ACL。  | 省略可能 | Bucket 内のファイルに対するアクセス権限を細かく定義できます。 ファイルの読み取り、書き込み、削除などの特定の操作を実行できる人を指定します。                                                                                                                               |
| 地域                      | 必須   | Amazon S3バケットが保存されている地理的な場所。 データの物理的な位置を決定し、レイテンシやデータ転送コストなどの要因に影響を与える可能性があります。                                                                                                                          |
| カスタムS3エンドポイント           | 省略可能 | Amazon S3 リソースにアクセスするための特定のエンドポイント URL を設定できます。 これは、カスタムドメインを使用する場合や、CDN (Content Delivery Network)と統合する場合に便利です。                                                                                         |
| アクセスキー                  | 必須   | Amazon S3へのアクセスリクエストを認証する資格情報                                                                                                                                                                            |
| シークレットアクセスキー            | 必須   | は、IAM (Identity and Access Management) ユーザまたは AWS (Amazon Web Services) アクセスキーペアを作成したときに生成されます。                                                                                                          |

### アクションを作成

Amazon S3リソースを作成しました アクションリストからAmazon S3を選択し、**`Create action`**ボタンを選択することでアクションを追加できます。

![amazon_resource_list](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_resource_list.jpg)

これで、Amazonサーバーをビルドページに追加しました。

![amazon](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon.jpg)

### Amazon S3 の設定

#### 概要

| メソッド名    | 説明                                                                                                                                    |
| -------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| アクションタイプ | は、Bucket 内のすべてのオブジェクトを一覧表示します。Object のダウンロード、オブジェクトの削除、複数のオブジェクトの削除、データのアップロード、複数のデータのアップロード                                          |
| バケット名    | Amazon S3 のストレージコンテナを表す一意の識別子                                                                                                         |
| トランス     | JavaScriptを使用して好きなスタイルにデータを変換します                                                                                                      |

#### Bucket 内のすべてのオブジェクトを一覧表示する

特定のバケットに格納されているすべてのオブジェクトのリストを取得します。

** Input **

| プロパティー                | 必須   | 説明                                                                                |
| --------------------- | ---- | --------------------------------------------------------------------------------- |
| 検索結果をフィルタするためのプレフィックス | 省略可能 | キー(名前)が特定のプレフィックスで始まるオブジェクトのみを含む結果をフィルタリングします。                                    |
| 区切り文字                 | 省略可能 | オブジェクトキー階層を分離する文字を指定します。                                                          |
| 署名済みURLを生成            | 省略可能 | 特定のオブジェクトへの一時的なアクセスを提供する時間制限付きURLを生成するかどうか                                        |
| 最大キー                  | 省略可能 | レスポンスで返されるオブジェクトの最大数を制限する                                                         |

たとえば、データベース内のすべてのオブジェクトを取得します。

** 出力 **

少なくとも 1 つの `objectKey` プロパティを含むオブジェクトの配列を返します。

![amazon_list_all_data](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_list_all_data1.jpg)

返されたすべてのデータを取得するには、`{{s31.data}}`を使用してください。

![amazon_list_all_code](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_list_all_code1.jpg)

#### オブジェクトの読み取り

Bucket 内に格納されている特定のオブジェクトの内容を取得します

** Input **

| プロパティー            | 必須   | 説明                                                                     |
| ----------------- | ---- | ---------------------------------------------------------------------- |
| オブジェクトキー          | 必須   | Bucket 内のオブジェクトの名前またはパス                                                |
| 署名済みURLを生成        | 省略可能 | 指定したオブジェクトへの一時的なアクセスを提供する URL を生成します。                                  |

例えば、文書「1111.txt」の内容を取得するには、**`Object Key`**の`1111.txt`を入れます。

** 出力 **

ドキュメントのコンテンツとメタデータを返す

![amazon_read_data1](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_read_data1.jpg)

![amazon_read_data2](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_read_data2.jpg)

返されたデータを取得するには、`{{s31.data}}`を使用してください。

![amazon_read_code](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_read_code.jpg)

#### オブジェクトをダウンロード

Bucket 内に格納されている特定のオブジェクトの内容を取得します

** Input **

| プロパティー            | 必須   | 説明                                                                     |
| ----------------- | ---- | ---------------------------------------------------------------------- |
| オブジェクトキー          | 必須   | Bucket 内のオブジェクトの名前またはパス                                                |
| 署名済みURLを生成        | 省略可能 | 指定したオブジェクトへの一時的なアクセスを提供する URL を生成します。                                  |

例えば、ドキュメント「1111.txt」をダウンロードするには、**`Object Key`**の`1111.txt`を入れます。

** 出力 **

ドキュメントのコンテンツとメタデータを返し、ドキュメントをローカルにダウンロードします

![amazon_read_data1](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_download_data.jpg)

#### オブジェクトを削除

S3バケットから単一のオブジェクトを削除します。

** Input **

| プロパティー            | 必須   | 説明                                                                     |
| ----------------- | ---- | ---------------------------------------------------------------------- |
| オブジェクトキー          | 必須   | Bucket 内のオブジェクトの名前またはパス                                                |
| 署名済みURLを生成        | 省略可能 | 指定したオブジェクトへの一時的なアクセスを提供する URL を生成します。                                  |

例えば、文書「1111.txt」を削除するには、**`Object Key`**の`1111.txt`を入れます。

** 出力 **

削除されたドキュメントのコンテンツとメタデータを返します

![amazon_delete_data](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_delete_data.jpg)

![amazon_delete_data1](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_delete_data1.jpg)

#### 複数のオブジェクトを削除

S3バケットから複数のオブジェクトを同時に削除します

** Input **

| プロパティー            | 必須   | 説明                                                                     |
| ----------------- | ---- | ---------------------------------------------------------------------- |
| オブジェクトキー          | 必須   | Bucket 内のオブジェクトの名前またはパス                                                |
| 署名済みURLを生成        | 省略可能 | 指定したオブジェクトへの一時的なアクセスを提供する URL を生成します。                                  |

例えば、複数のドキュメントを削除するには、**`Object Key`**に\`{{["images.jpeg", "images-1.png"]}}を入れてください。

** 出力 **

削除されたドキュメントのコンテンツとメタデータを返します

![amazon_delete2_data1](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_delete2_data1.jpg)

![amazon_delete2_data2](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_delete2_data2.jpg)

#### データをアップロード

バケットにオブジェクトをアップロードする

** Input **

| プロパティー                               | 必須   | 説明                                                                              |
| ------------------------------------ | ---- | ------------------------------------------------------------------------------- |
| コンテンツタイプ                             | 必須   | アップロードしているオブジェクトの MIME タイプ。                                                     |
| オブジェクト名をアップロード                       | 必須   | アップロードするオブジェクトの名前                                                               |
| データをアップロード                           | 必須   | Amazon S3にアップロードするデータ。                                                          |
| ファイルのアップロードタイムアウト（分）                 | 省略可能 | アップロードプロセスがタイムアウトエラーにより停止される数分前のアップロード時間                                        |

例えば、複数のドキュメントを削除するには、**`contenttype`**、**`upload object name`**に対して`text.txt`、**`upload data`**に対して`text`、`text`を入れます。

** 出力 **

ドキュメントが正常にアップロードされたかどうかのメッセージを返します

![amazon_upload_data1](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_upload_data1.jpg)

![amazon_upload_data2](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_upload_data2.jpg)

#### 複数のデータをアップロード

バケットにオブジェクトのリストをアップロードする

** Input **

| プロパティー                             | 必須   | 説明                                                                              |
| ---------------------------------- | ---- | ------------------------------------------------------------------------------- |
| コンテンツタイプ                           | 必須   | アップロードしているオブジェクトの MIME タイプ。                                                     |
| オブジェクト名リストをアップロード                  | 必須   | アップロードしているオブジェクトの名前のリスト。                                                        |
| データリストをアップロード                      | 必須   | Amazon S3にアップロードするデータの一覧です。                                                     |
| ファイルのアップロードタイムアウト（分）               | 省略可能 | アップロードプロセスがタイムアウトエラーにより停止される数分前のアップロード時間                                        |

例えば、複数のドキュメントを削除するには、**`contentType`**に`text`を追加します。 `{{['text.txt', 'text2.txt']}}` for **`upload object name list`**, and `{{['text', 'text2']}}` for **`upload data list`** .

** 出力 **

文書が正常にアップロードされたかどうかのメッセージを返します

![amazon_upload_data1](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_upload_data1.jpg)

![amazon_upload_data2](https://cdn.illacloud.com/official-website/img/docs/assemble/amazon_upload_data2.jpg)

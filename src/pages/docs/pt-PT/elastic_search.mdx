---
title: Elastic Search
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/367?languages=pt&filter=basic&value=0
metaTitle: Integra√ß√£o de pesquisa el√°stica doc ‚îúILLA Cloud
desc: Use ILLA Cloud para conectar e interagir com os seus dados de Busca El√°stica. Crie aplicativos que podem realizar pesquisa em texto, an√°lises de log e muito mais.
tagCategory: doc_menu_elastic_search_click
categoryName: üî® Integra√ß√µes
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>O que √© a Pesquisa El√°stica?</h2>

Pesquisa el√°stica √© um mecanismo de pesquisa e an√°lise redistribu√≠do e que √© comumente usado para indexar e pesquisar grandes volumes de dados. Em Illa, voc√™ pode usar a fonte de dados do Elasticsearch para se conectar a inst√¢ncias do Elasticsearch e executar consultas e agrega√ß√µes em seus dados.

### Criar Pesquisa El√°stica

H√° duas maneiras de criar um recurso no Illa depois de entrar em sua conta do Illa.

-   Criar em recursos

Entre na sua conta Illa, selecione `**Recursos**` no topo da p√°gina, e clique no bot√£o `**Criar Novo**`.

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

Selecione **`Pesquisa El√°stica`** da lista de banco de dados.

![action_list](https://cdn.illacloud.com/official-website/img/docs/action_list.png)

Conectar ao banco de dados com os par√¢metros necess√°rios descritos em `Configura√ß√µes de Conex√£o` abaixo.

Clique em `**Test Connection**` para ver se conseguimos nos conectar com sucesso ao banco de dados. Se sim, clique **`Salvar Recursos`**, outra coisa, verifique se o nome do host, porta, nome de usu√°rio e senha est√° correto.

Depois de criar um recurso, a Pesquisa El√°stica pronta ser√° exibida como mostrado.

![ela_ex_ready](https://cdn.illacloud.com/official-website/img/docs/ela_ex_ready.png)

-   Criar no Construtor

Entre na sua conta do Illa, crie um projeto no Illa Builder na p√°gina `**App**`, e navegue para a **Lista de A√ß√µes\`** na parte inferior da p√°gina. Clique em `**novo**`, e ent√£o selecione **`Pesquisa El√°stica`** na lista de dados. Em seguida, conecte ao banco de dados com os par√¢metros necess√°rios descritos em `Configura√ß√µes de Conex√£o` abaixo.

Clique em `**Test Connection**` para ver se conseguimos nos conectar com sucesso ao banco de dados. Se sim, clique **`Salvar Recursos`**, outra coisa, verifique se o nome do host, porta, nome de usu√°rio e senha est√° correto.

### Configura√ß√µes de conex√£o

Aqui precisamos fornecer informa√ß√µes para conectar √† base de dados El√°stica de pesquisa.

![ela_config](https://cdn.illacloud.com/official-website/img/docs/ela_config.png)

| propriedades     | Obrigat√≥rio | Descri√ß√£o:                                                                                                     |
| ---------------- | ----------- | -------------------------------------------------------------------------------------------------------------- |
| Nome:            | Obrigat√≥rio | O nome do recurso ao criar a√ß√µes na ILLA.                                                                      |
| Hostname         | Obrigat√≥rio | O URL ou endere√ßo IP do seu banco de dados                                                                     |
| Porta            | Obrigat√≥rio | O n√∫mero da porta do host do servidor que voc√™ deve usar para se conectar.                                     |
| Banco            | Obrigat√≥rio | O nome do banco de dados                                                                                       |
| Usu√°rio:         | Obrigat√≥rio | o nome de usu√°rio que voc√™ deseja usar ao fazer login no servidor de Pesquisa El√°stica.                        |
| Palavra-passe    | Obrigat√≥rio | Use esta senha para autentica√ß√£o.                                                                              |
| Op√ß√µes SSL       | opcional    | decide qu√£o alta uma conex√£o SSL TCP/IP √© priorizada durante as negocia√ß√µes com o servidor.                    |

### Criar a√ß√µes

Criamos um recurso de Pesquisa El√°stica, podemos adicionar a a√ß√£o selecionando a Pesquisa El√°stica da lista de a√ß√µes e escolhendo o bot√£o **`Criar a√ß√£o`**.

![ela_resource_list](https://cdn.illacloud.com/official-website/img/docs/ela_resource_list.png)

Agora adicionamos o servidor de Pesquisa El√°stica como uma a√ß√£o √† nossa p√°gina de constru√ß√£o.

![ela](https://cdn.illacloud.com/official-website/img/docs/ela.png)

### Configurar Pesquisa El√°stica

#### Geral

| Nome do M√©todo | Descri√ß√£o:                                                                                        |
| -------------- | ------------------------------------------------------------------------------------------------- |
| Tipo de acao   | pesquisar, obter um documento, inserir um documento, atualizar um documento, excluir um documento |
| Transformador  | Transformar dados em estilo que voc√™ gosta de usar JavaScript                                     |

#### insira um documento

enviando uma solicita√ß√£o HTTP PUT para o cluster Elasticsearch com um documento JSON que cont√©m os dados a serem inseridos.

** Input **

| propriedades   | Obrigat√≥rio | Descri√ß√£o:                                                |
| -------------- | ----------- | --------------------------------------------------------- |
| Conte√∫do       | opcional    | um documento JSON que cont√©m os dados a serem inseridos   |
| Indexa√ß√£o      | opcional    | nome do √≠ndice onde o documento deve ser inserido         |

Por exemplo, para inserir `value1`, `value2`, e `value3` em **`field1`**, **`field2`**, e **`field3`** no nosso banco de dados de pesquisa el√°stica, coloque o snippet abaixo no `**Body`** e `insert2` para **`Index`\*\*.

```jsx
{
	"field1": "value1",
	"field2": "value2",
	"field3": "value3"
}
```

** Sa√≠da **

Mensagem de sucesso de se o documento √© inserido com sucesso e informa√ß√£o do documento inserido.

![ela_insert_data](https://cdn.illacloud.com/official-website/img/official-site/ela_insert_data.png)

Use `{{insert.data}}` para receber a mensagem.

![ela_insert_code](https://cdn.illacloud.com/official-website/img/official-site/ela_insert_code.png)

#### atualizar um documento

enviando uma solicita√ß√£o HTTP **`POST`** ou **`PUT`** para o cluster do Elasticsearch com o ID do documento que deve ser atualizado, e um documento JSON que especifica as altera√ß√µes a serem feitas.

** Input **

| propriedades   | Obrigat√≥rio | Descri√ß√£o:                                              |
| -------------- | ----------- | ------------------------------------------------------- |
| Conte√∫do       | opcional    | O novo valor a ser atribu√≠do ao campo.                  |
| Indexa√ß√£o      | opcional    | O nome do √≠ndice onde o documento √© armazenado.         |
| Id             | opcional    | O identificador exclusivo para o documento.             |

Por exemplo, para atualizar `value1`, `value2`, e `value3` para **`field1`**, **`field2`** e **`field3`** no nosso banco de dados de pesquisa el√°stica, coloque o trecho de c√≥digo abaixo no **`Body,`** `insert2` para **`Index`** e copie e cole o documento **`Id`** da mensagem de inser√ß√£o.

```jsx
{"doc":{
	"field1": "value11",
	"field2": "value2",
	"field3": "value3"
}}
```

** Sa√≠da **

Mensagem de sucesso de se o documento √© atualizado com sucesso e informa√ß√£o do documento atualizado.

![ela_update_data](https://cdn.illacloud.com/official-website/img/official-site/ela_update_data.jpg)

Use `{{update.data}}` para receber a mensagem.

![ela_update_code](https://cdn.illacloud.com/official-website/img/official-site/ela_update_code.jpg)

#### Pesquisa

consultar e recuperar documentos de um √≠ndice

** Input **

| propriedades    | Obrigat√≥rio | Descri√ß√£o:                                                                                 |
| --------------- | ----------- | ------------------------------------------------------------------------------------------ |
| Requisi√ß√£o      | opcional    | especifique a consulta de pesquisa que √© usada para corresponder a documentos em um √≠ndice |
| Indexa√ß√£o       | opcional    | especifique o nome do √≠ndice ou dos √≠ndices que devem ser pesquisados                      |

Por exemplo, para procurar na base de dados para encontrar documentos com o par chave-valor `"campo1": "valor1"`, coloque o trecho de c√≥digo abaixo no **`Query` .**

```jsx
{
	"query": {
		"match": {
			"field1": "value1"
		}
	}
}
```

** Sa√≠da **

Mensagem de sucesso com o n√∫mero de acessos/documentos que encontra corresponde √† consulta e √†s informa√ß√µes de cada acerto.

![ela_search_data](https://cdn.illacloud.com/official-website/img/official-site/ela_search_data.jpg)

Use `{{search.data}}` para receber a mensagem.

![ela_search_code](https://cdn.illacloud.com/official-website/img/official-site/ela_search_code.jpg)

#### obter um documento

enviando uma solicita√ß√£o HTTP **`GET`** para o cluster do Elasticsearch com o ID do documento que deve ser recuperado.

** Input **

| propriedades   | Obrigat√≥rio | Descri√ß√£o:                                              |
| -------------- | ----------- | ------------------------------------------------------- |
| Indexa√ß√£o      | opcional    | O nome do √≠ndice onde o documento √© armazenado.         |
| Id             | opcional    | O identificador exclusivo para o documento.             |

Por exemplo, para obter a informa√ß√£o do documento para o documento que acabamos de atualizar, coloque `insert2` para **`Index`** e copie e cole o documento **`Id`** da mensagem atualizada.

** Sa√≠da **

retorna o documento com o ID especificado, ou um erro **`404 N√£o Encontrado`** se o documento n√£o existir.

![ela_get_data](https://cdn.illacloud.com/official-website/img/official-site/ela_get_data.jpg)

Use `{{get.data}}` para receber a mensagem.

![ela_get_code](https://cdn.illacloud.com/official-website/img/official-site/ela_get_code.jpg)

#### excluir um documento

enviando uma solicita√ß√£o HTTP DELETE para o cluster Elasticsearch com a ID do documento que deve ser exclu√≠do.

** Input **

| propriedades   | Obrigat√≥rio | Descri√ß√£o:                                              |
| -------------- | ----------- | ------------------------------------------------------- |
| Indexa√ß√£o      | opcional    | O nome do √≠ndice onde o documento √© armazenado.         |
| Id             | opcional    | O identificador exclusivo para o documento.             |

Por exemplo, para apagar o documento, coloque `insert2` para **`Index`,** e copie e cole o documento **`Id`** da mensagem atualizada.

** Sa√≠da **

retorna o documento com o ID especificado, ou um erro **`404 N√£o Encontrado`** se o documento n√£o existir.

![ela_delete_data](https://cdn.illacloud.com/official-website/img/official-site/ela_delete_data.jpg)

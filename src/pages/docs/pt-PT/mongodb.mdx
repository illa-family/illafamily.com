---
title: MongoDB
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/351?languages=pt&filter=basic&value=0
metaTitle: Integra√ß√£o MongoDB Doc ‚îúILLA Cloud
desc: Aprenda a usar ILLA Cloud para criar aplicativos com MongoDB. Explore recursos de consulta de dados, manipula√ß√£o e visualiza√ß√£o de dados.
tagCategory: doc_menu_mongodb_click
categoryName: üî® Integra√ß√µes
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>O que √© MongoDB?</h2>

MongoDB √© um banco de dados popular orientado a documentos NoSQL amplamente utilizado para aplica√ß√µes web e outros softwares orientados a dados. MongoDB foi projetado para ser flex√≠vel, escal√°vel e r√°pido, e √© particularmente adequado para manipular grandes quantidades de dados n√£o estruturados ou semi-estruturados.

Em Illa, voc√™ pode conectar a uma base de dados do MongoDB usando o recurso de consulta do MongoDB. Este recurso permite que voc√™ execute consultas do MongoDB diretamente do Illa, sem ter que escrever nenhum c√≥digo. Voc√™ pode usar o editor de consultas para escrever consultas na linguagem nativa do MongoDB, que √© baseado em JavaScript e usa uma sintaxe JSON, para trabalhar com documentos.

### Create MongoDB

H√° duas maneiras de criar um recurso no Illa depois de entrar em sua conta do Illa.

-   Criar em recursos

Entre na sua conta Illa, selecione `**Recursos**` no topo da p√°gina, e clique no bot√£o `**Criar Novo**`.

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

Selecione **`MongoDB`** na lista de banco de dados.

![action_list](https://cdn.illacloud.com/official-website/img/docs/action_list.png)

Conectar ao banco de dados com os par√¢metros necess√°rios descritos em `Configura√ß√µes de Conex√£o` abaixo.

Clique em `**Test Connection**` para ver se conseguimos nos conectar com sucesso ao banco de dados. Se sim, clique **`Salvar Recursos`**, outra coisa, verifique se o nome do host, porta, nome de usu√°rio e senha est√° correto.

Depois de criar um recurso, o MongoDB pronto ser√° exibido como mostrado.

![mongo_ex_ready](https://cdn.illacloud.com/official-website/img/docs/mongo_ex_ready.png)

-   Criar no Construtor

Entre na sua conta do Illa, crie um projeto no Illa Builder na p√°gina `**App**`, e navegue para a **Lista de A√ß√µes\`** na parte inferior da p√°gina. Clique em `**novo**`, e ent√£o selecione **`MongoDB`** na lista de dados. Em seguida, conecte ao banco de dados com os par√¢metros necess√°rios descritos em `Configura√ß√µes de Conex√£o` abaixo.

Clique em `**Test Connection**` para ver se conseguimos nos conectar com sucesso ao banco de dados. Se sim, clique **`Salvar Recursos`**, outra coisa, verifique se o nome do host, porta, nome de usu√°rio e senha est√° correto.

### Configura√ß√µes de conex√£o

Aqui precisamos fornecer informa√ß√µes para conex√£o com o banco de dados do MongoDB.

![mongo_config](https://cdn.illacloud.com/official-website/img/docs/mongo_config.png)

| propriedades               | Obrigat√≥rio | Descri√ß√£o:                                                                                                                           |
| -------------------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------ |
| Nome:                      | Obrigat√≥rio | O nome do recurso ao criar a√ß√µes na ILLA.                                                                                            |
| Tipo de Configura√ß√£o       | opcional    | um tipo de cole√ß√£o usada para armazenar dados de configura√ß√£o para clusters fragmentados.                                            |
| Hostname                   | Obrigat√≥rio | O URL ou endere√ßo IP do seu banco de dados                                                                                           |
| Formato da conex√£o         | Obrigat√≥rio | a sintaxe usada para especificar a string de conex√£o para conex√£o com um banco de dados ou cluster do MongoDB.                       |
| Porta                      | Obrigat√≥rio | O n√∫mero da porta do host do servidor que voc√™ deve usar para se conectar. Se voc√™ n√£o especificar uma porta, porta padr√£o √© '3306'. |
| Banco                      | Obrigat√≥rio | O nome do banco de dados                                                                                                             |
| Usu√°rio:                   | Obrigat√≥rio | o nome de usu√°rio que voc√™ deseja usar ao fazer login no servidor do MongoDB.                                                        |
| Palavra-passe              | Obrigat√≥rio | Use esta senha para autentica√ß√£o.                                                                                                    |
| Op√ß√µes SSL                 | opcional    | decide qu√£o alta uma conex√£o SSL TCP/IP √© priorizada durante as negocia√ß√µes com o servidor.                                          |

### Criar a√ß√µes

N√≥s criamos um recurso MongoDB, podemos adicionar a a√ß√£o selecionando MongoDB da lista de a√ß√µes e escolhendo o bot√£o **`Criar a√ß√£o`**.

![mongo_resource_list](https://cdn.illacloud.com/official-website/img/docs/mongo_resource_list.png)

Agora n√≥s adicionamos o servidor MongoDB como uma a√ß√£o √† nossa p√°gina de constru√ß√£o.

![mongodb](https://cdn.illacloud.com/official-website/img/docs/mongodb.png)

### Configure MongoDB

#### Geral

| Nome do M√©todo | Descri√ß√£o:                                                                                 |
| -------------- | ------------------------------------------------------------------------------------------ |
| Tipo de acao   | agregar, escrever, contar, apagar. deletarum, distinto, encontrar, encontrar, encontrarUm  |
| Cole√ß√£o        | grupo de documentos relacionados que s√£o armazenados juntos em um banco de dados           |
| Transformador  | Transformar dados em estilo que voc√™ gosta de usar JavaScript                              |

#### Agregado

processar v√°rios documentos e retornar resultados calculados.

** Input **

| propriedades  | Obrigat√≥rio | Descri√ß√£o:                                        |
| ------------- | ----------- | ------------------------------------------------- |
| Agrega√ß√£o     | opcional    | define as opera√ß√µes a serem executadas nos dados  |

Por exemplo, para obter todos os resultados cujo tamanho √© m√©dio=>agrupe os resultados por tipo=>Calcule a soma dos pre√ßos em cada tipo para **`Agregation`**:

```sql
[
	‚û≤ {
		‚îú"$match": { "size": "medium" }
	^\\},
	¬£{
		‚îú‚Äò "$group": { "_id": "$type", "totalQuantity": { "$sum": "$price" }
	^\\}
]
```

** Sa√≠da **

Um array dos resultados calculados.

![mongo_agg_data](https://cdn.illacloud.com/official-website/img/docs/mongo_agg_data.png)

Use `{{mongodb1.data[0].result}}` para pegar tudo.

![mongo_agg_code](https://cdn.illacloud.com/official-website/img/docs/mongo_agg_code.png)

#### Escrever

executar m√∫ltiplas opera√ß√µes de escrita (inserir, atualizar e excluir) em uma √∫nica solicita√ß√£o ao servidor

** Input **

| propriedades | Obrigat√≥rio | Descri√ß√£o:                                                                          |
| ------------ | ----------- | ----------------------------------------------------------------------------------- |
| Opera√ß√µes    | opcional    | um objeto que especifica o tipo de opera√ß√£o a executar e os dados a serem escritos  |

Um exemplo para **`Operations`**:

```sql
[
	‚û≤ { "insertOne": { "documento": { "_id": 3, "type": "beef", "size": "medium", "price": 6 } },
	thanking { "insertOne": { "document": { "_id": 4, "type": "saus", "size": "large", "price": 10 } },
	¬£{ "updateOne": {
			¬£¬£"filter": { "type": "cheese" },
			‚û≤ ‚û≤ ‚îú"update": { "$set": { "price": 8 }
		‚îú}
	‚îú}
]
```

** Sa√≠da **

A mensagem atualizada est√° sendo exibida abaixo.

![mongo_bulk_data](https://cdn.illacloud.com/official-website/img/docs/mongo_bulk_data.png)

Uma vez que este m√©todo opera mudan√ßas, mas n√£o retorna nada. N√£o h√° dados de sa√≠da para acessar.

#### Quantidade

conte o n√∫mero de documentos que correspondem a uma determinada consulta em uma cole√ß√£o

** Input **

| propriedades    | Obrigat√≥rio | Descri√ß√£o:                                                     |
| --------------- | ----------- | -------------------------------------------------------------- |
| Requisi√ß√£o      | opcional    | especifica os crit√©rios de sele√ß√£o para a opera√ß√£o de contagem |

Por exemplo, para contar o n√∫mero de item com o tipo "carne", podemos colocar abaixo o c√≥digo em **`Query`**:

```sql
{"tipo":"beef"}
```

** Sa√≠da **

O n√∫mero de documentos correspondentes.

![mongo_count_data](https://cdn.illacloud.com/official-website/img/docs/mongo_count_data.png)

Use `{{mongodb1.data}}` para peg√°-lo.

![mongo_count_code](https://cdn.illacloud.com/official-website/img/docs/mongo_count_code.png)

#### deletarMuit√≠ssimo

exclui v√°rios documentos que correspondem a um filtro determinado em uma cole√ß√£o.

** Input **

| propriedades | Obrigat√≥rio | Descri√ß√£o:                                                                                                                                 |
| ------------ | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| filtro       | opcional    | especifica os crit√©rios de sele√ß√£o para a opera√ß√£o de exclus√£o, se n√£o for especificado, todos os documentos desta cole√ß√£o ser√£o apagados. |

Por exemplo, para excluir ma√ß√£s dos itens. Podemos colocar o c√≥digo abaixo para **`Filtro`**.

```sql
 {"tipo":"apple"}
```

** Sa√≠da **

O n√∫mero de documentos correspondentes.

![mongo_delete2_data](https://cdn.illacloud.com/official-website/img/docs/mongo_delete2_data.png)

Use `{{mongodb1.data[0].result.DeletedCount}}` para peg√°-lo. Se nenhum arquivo for correspondido, o valor retornado ser√° 0.

![mongo_delete2_code](https://cdn.illacloud.com/official-website/img/docs/mongo_delete2_code.png)

#### apagarUm

exclui um documento que corresponde a um filtro determinado numa cole√ß√£o.

** Input **

| propriedades | Obrigat√≥rio | Descri√ß√£o:                                                     |
| ------------ | ----------- | -------------------------------------------------------------- |
| filtro       | opcional    | especifica os crit√©rios de sele√ß√£o para a opera√ß√£o de exclus√£o |

Por exemplo, para excluir uma ma√ß√£ dos itens. Podemos colocar o c√≥digo abaixo para **`Filtro`**.

```sql
 {"tipo":"apple"}
```

** Sa√≠da **

Exclua o resultado.

![mongo_delete1_data](https://cdn.illacloud.com/official-website/img/docs/mongo_delete1_data.png)

Use `{{mongodb1.data[0].result.DeletedCount}}` para peg√°-lo. Se nenhum arquivo for correspondido, o valor retornado ser√° 0 (Se n√≥s deletamos todas as ma√ß√£s em **`deleteMany`**, n√£o h√° mais ma√ß√£ e, portanto, retorne 0).

![mongo_delete1_code](https://cdn.illacloud.com/official-website/img/docs/mongo_delete1_code.png)

#### distinto

recuperar uma matriz de valores √∫nicos para um campo especificado em uma cole√ß√£o

** Input **

| propriedades    | Obrigat√≥rio | Descri√ß√£o:                                                  |
| --------------- | ----------- | ----------------------------------------------------------- |
| Requisi√ß√£o      | opcional    | especifica os crit√©rios de sele√ß√£o para a opera√ß√£o distinta |
| Campo           | Obrigat√≥rio | especifica o campo para recuperar valores distintos.        |

Por exemplo, podemos ter `{"type":"orange"}` para **`Query`** e `_id` para **`Field`**.

** Sa√≠da **

um array de valores distintos

![mongo_dist_data](https://cdn.illacloud.com/official-website/img/docs/mongo_dist_data.png)

Use `{{mongodb1.data[0].result.map(item =>({"result":item}))}}` para obter a matriz.

![mongo_dist_code](https://cdn.illacloud.com/official-website/img/docs/mongo_dist_code.png)

#### encontrar

recuperar documentos de uma cole√ß√£o que correspondem a um conjunto espec√≠fico de crit√©rios

** Input **

| propriedades       | Obrigat√≥rio | Descri√ß√£o:                                                                                                            |
| ------------------ | ----------- | --------------------------------------------------------------------------------------------------------------------- |
| Requisi√ß√£o         | opcional    | especifica os crit√©rios de sele√ß√£o para a opera√ß√£o de localizar                                                       |
| Proje√ß√£o           | opcional    | especifica quais campos incluir ou excluir nos resultados das consultas                                               |
| Classificar por    | opcional    | especifique a ordem de classifica√ß√£o dos documentos retornados                                                        |
| Limitar            | opcional    | limitar o n√∫mero de documentos que s√£o retornados, padr√£o sem limite. Um limite de 0 equivale a nenhum limite.        |
| Ignorar            | opcional    | especifique o n√∫mero de documentos a ignorar, por padr√£o a 0.                                                         |

Por exemplo, para encontrar o id, o pre√ßo e o tipo de todas as laranjas classificadas pelo seu id.

Para **`Query`**, `{"type": "orange"}`

Para **`Projection`**, `{"_id": 1, "type": 1, "price": 1}`
Para **`Sort Por`**, `{"_id":1}`

Nota: substitua "1" por "verdadeiro" ainda o faz!

** Sa√≠da **

Um array de objetos de documentos

![mongo_find_data](https://cdn.illacloud.com/official-website/img/docs/mongo_find_data.png)

Use `{{mongodb1.data[0].result}}` para pegar a matriz.

![mongo_find_code](https://cdn.illacloud.com/official-website/img/docs/mongo_find_code.png)

#### encontrarUm

recuperar o primeiro documento de uma cole√ß√£o que corresponde a um determinado conjunto de crit√©rios

** Input **

| propriedades    | Obrigat√≥rio | Descri√ß√£o:                                                                |
| --------------- | ----------- | ------------------------------------------------------------------------- |
| Requisi√ß√£o      | opcional    | especifica os crit√©rios de sele√ß√£o para a opera√ß√£o de localizar           |
| Proje√ß√£o        | opcional    | especifica quais campos incluir ou excluir nos resultados das consultas   |
| Ignorar         | opcional    | especifique o n√∫mero de documentos a ignorar, por padr√£o a 0.             |

Por exemplo, para encontrar o id, o pre√ßo e o tipo de todas as laranjas classificadas pelo seu id.

Para **`Query`**, `{"type": "orange"}`

Para **`Proje√ß√£o`**, `{"_id": 1, "type": 1, "price": 1}`

Nota: substitua "1" por "verdadeiro" ainda o faz!

** Sa√≠da **

Um array de objetos de documentos

![mongo_find1_data](https://cdn.illacloud.com/official-website/img/docs/mongo_find1_data.png)

Use `{{[mongodb1.data[0].result]}}` para pegar a matriz.

![mongo_find1_code](https://cdn.illacloud.com/official-website/img/docs/mongo_find1_code.png)

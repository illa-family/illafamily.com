---
title: Imagen todo en uno de Docker
metaTitle: Documento de im치genes todo en uno de Docker | Nube ILLA
tagCategory: doc_menu_docker-all-in-one-image_click
desc: Aprenda c칩mo construir ILLA utils una imagen todo en uno y la ejecute en su m치quina.
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/199?languages=es&filter=basic&value=0
categoryName: 游농 Deploy ILLA
categoryPriority: 2
postPriority: 1
---

* * *

## <h2 hidden>Imagen todo en uno de Docker</h2>

### Descripci칩n

Construye illa utils una imagen todo en uno y la ejecuta en tu m치quina. Puedes revisar el archivo de scripts en la carpeta [scripts](https://github.com/illacloud/deploy-illa-manually/blob/main/docker/scripts) para m치s detalles.

Nota:

Recomendamos altamente desplegar con nuestras herramientas de despliegue autom치tico[illa-cli](https://github.com/illacloud/illa).

Y por el momento no soportamos Apple Silicon M1 (arco darwin-arm64).

### Ejecutar una imagen oficial

Instalar GNU make y tipo:

```jsx
hacer run-official-image
```

o simplemente ejecutar:

```jsx
/bin/bash scripts/run-official-image.sh
```

este comando extraer치 la imagen oficial de illasoft y la ejecutar치 en el entorno docker.

Y inicie sesi칩n con el nombre de usuario predeterminado **`root`** y la contrase침a **`password`**.

### Crear imagen manualmente y ejecutar

Instale GNU make (o ejecute scripts de shell en la carpeta de scripts manualmente).

Para construir una imagen todo en uno y ejecutar, tipo:

```jsx
hacer todo
```

para podman, tipo:

```jsx
hacer ejecutar por-podman
```

o ejecute scripts de shell `run-by-podman.sh` en la carpeta de scripts.

### Detener y Eliminar Contenedor

```jsx
hacer stop-y-remove-container
```

### Limpiar archivo de base de datos de Postgres

** ESTA COMAND DELLETE EL ARCHIVO DE DATOS EN SU RIESGO !!! \*\*\*** BACKUP, Y HACE CARELAMENTE \*\*\*

Por defecto, la base de datos Postgres almacenar치 en la carpeta `/var/lib/illa/database/postgresql/`.

Ejecuta el siguiente comando para eliminarlo.

```jsx
hacer limpiar-postgres-base de datos-archivo
```

### Configurar variables de entorno de ejecuci칩n

Edita `scripts/run.sh` cuando sea necesario:

```jsx
# postgres database password
PG_PASS=mysecretpassword

# repo home dir
ILLA_HOME_DIR=/var/lib/illa

# postgres database file storage folder
PG_VOLUMN=${ILLA_HOME_DIR}/database/postgresql
DRIVE_VOLUMN=${ILLA_HOME_DIR}/drive
```

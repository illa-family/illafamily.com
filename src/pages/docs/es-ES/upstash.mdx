---
title: Upstash
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/427?languages=es&filter=basic&value=0
metaTitle: Actualizar documento de integración | ILLA Cloud
desc: Aprende cómo conectar tu base de datos de Upstash Redis a ILLA Cloud y crea aplicaciones que puedan consultar, manipular y mostrar datos
tagCategory: doc_menu_upstash_click
categoryName: 🔨 Integraciones
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>¿Qué es Cambio?</h2>

Upstash es un servicio sin servidor nativo de la nube con compatibilidad con Redis que proporciona una forma fácil de integrar la funcionalidad de Redis en las aplicaciones. En el contexto de ILLA Cloud, la integración de Upstash permite a los usuarios aprovechar las características y capacidades de Upstash dentro de la aplicación Cloud de ILLA.

Este tutorial describe el proceso de creación de un Panel de Administración usando ILLA Builder y Upstash en unos pocos pasos. ILLA Cloud es una plataforma de código bajo para desarrolladores que permite el rápido desarrollo y despliegue de herramientas internas. Permite crear páginas arrastrando y soltando componentes de la interfaz de usuario, conectando a cualquier base de datos o API, y escribiendo JavaScript. Para obtener más información sobre Upstash, visite su sitio web en https://upstash.com/(https://upstash.com/) ¡Empecemos!

### Configura tu Back end en Upstash

Crear una cuenta en Upstash. Puede iniciar sesión usando sus cuentas de Amazon, Github o Google alternativamente.

Después de iniciar sesión en su cuenta en `Upstash`, haga clic en el botón `Crear base de datos` en Redis.

![up_home](https://cdn.illacloud.com/official-website/img/docs/up_home.jpg)

En el panel de control `Upstash`, haga clic en `Crear base de datos`.

![up_create_db](https://cdn.illacloud.com/official-website/img/docs/up_create_db.jpg)

Nota: sólo puede tener UNA base de datos en el nivel libre.

Para la configuración de la base de datos, puede nombrar su base de datos de la forma que desee. Aquí lo llamamos `db1`. Elige la `región primaria` y `región de lectura` basándose en tus ubicaciones de usuario de escritura y lectura. Habilitar `TSL/SSL`. Es opcional activar la desconfianza.

![up_db_config](https://cdn.illacloud.com/official-website/img/docs/up_db_config.jpg)

Haga clic en el botón **`crear`** , ahora tenemos una base de datos lista para usar.

### Crear Upstash en ILLA Cloud

Hay dos maneras de crear un recurso en Illa después de iniciar sesión en tu cuenta de Imax.

-   Crear en Recursos

Inicia sesión en tu cuenta de Imax, selecciona `**Recursos**` en la parte superior de la página y haz clic en el botón `**Crear nuevo**`.

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

Selecciona **`Upstash`** de la lista de bases de datos.

![action_list_0](https://cdn.illacloud.com/official-website/img/docs/action_list_0.jpg)

Conecte a la base de datos con los parámetros requeridos descritos en `Configuración de Conexión` a continuación.

Haga clic en `**Probar conexión**` para ver si podemos conectar con éxito a la base de datos. En caso afirmativo, haga clic en **`Guardar Recursos`**, lo demás, compruebe dos veces el nombre de host, el puerto, el nombre de usuario y la contraseña son correctos.

Después de crear un recurso, el listo `Upstash` se mostrará como mostrado.

![up_ex_ready](https://cdn.illacloud.com/official-website/img/docs/up_ex_ready.jpg)

-   Crear en el Constructor

Inicia sesión en tu cuenta de Imax, crea un proyecto en Illa Builder en la página `**App**` y navegar a la **`Lista de Acciones`** en la parte inferior de la página. Haz clic en `**nuevo**`, luego selecciona **`Upstash`** de la lista de bases de datos. Luego, conecte a la base de datos con los parámetros requeridos descritos en `Configuración de Conexión` a continuación.

Haga clic en `**Probar conexión**` para ver si podemos conectar con éxito a la base de datos. En caso afirmativo, haga clic en **`Guardar Recursos`**, lo demás, compruebe dos veces el nombre de host, el puerto, el nombre de usuario y la contraseña son correctos.

### Configuración de conexión

Aquí tenemos que proporcionar información para conectarse a la base de datos de Upstash.

![up_config](https://cdn.illacloud.com/official-website/img/docs/up_config_rev.jpg)

| Propiedades  | Requerido | Descripción                                                                                                                      |
| ------------ | --------- | -------------------------------------------------------------------------------------------------------------------------------- |
| Nombre       | requerido | El nombre del recurso al crear acciones en el ILLA.                                                                              |
| Hostname     | requerido | La URL o dirección IP de su base de datos                                                                                        |
| Puerto       | requerido | El número de puerto del servidor que debe utilizar para conectarse. Si no especifica un puerto, el puerto por defecto es '6379'. |
| Contraseña   | requerido | Utilice esta contraseña para la autenticación.                                                                                   |
| Opción SSL   | requerido | si habilitar el SSL (recomendar habilitar)                                                                                       |

Para rellenar la información requerida vaya a la página del panel de la base de datos y haga clic en la base de datos que acabamos de crear en su Upstash.

![up_info](https://cdn.illacloud.com/official-website/img/docs/up_info.jpg)

Puede copiarlo colocando el ratón sobre el punto final, la contraseña y el puerto y haciendo clic en el icono de texto que hay detrás de él.

En la configuración de integración de Upstash en ILLA Cloud, ponga el nombre que desea para `Name`, `Endpoint` para `hostname`, dado `Port` para `Port`, y copia el `Password` cifrado para `Password`.

![up_config_done](https://cdn.illacloud.com/official-website/img/docs/up_config_rev_done.jpg)

### Crear acciones

Hemos creado un recurso Upstash, podemos añadir la acción seleccionando Upstash de la lista de acciones y eligiendo el botón **`Crear acción`**.

![up_resource_list](https://cdn.illacloud.com/official-website/img/docs/up_resource_list.jpg)

Ahora hemos añadido el servidor Upstash como una acción a nuestra página de construcción.

![upstash](https://cdn.illacloud.com/official-website/img/docs/upstash.jpg)

### Configurar Upstash

| Propiedades    | Descripción                                                                             |
| -------------- | --------------------------------------------------------------------------------------- |
| Consulta Redis | usar consulta para recuperar y manipular datos almacenados en tu base de datos de Redis |
| Transformador  | transforma los datos en el estilo que te gusta usando JavaScript                        |

Ejemplo:

1.  Obtener valores:
    -   Obtener un valor: Use el comando **`GET`** para recuperar el valor asociado con una clave específica. Por ejemplo: **`GET key`**.
2.  Definir valores:
    -   Establezca un valor: Use el comando **`SET`** para establecer el valor de una clave. Por ejemplo **`SET key value`**.
3.  Operaciones de Hash:
    -   Establezca pares de campo y valor en un hash: Use el comando **`HSET`** para establecer un par de campo de valor en un hash. Por ejemplo: **`HSET hashKey valor de campo`**.
    -   Obtener un valor de un hash: Use el comando **`HGET`** para recuperar el valor de un campo específico en un hash. Por ejemplo: **`HGET hashKey campo`**.
4.  Operaciones de listas:
    -   Agrega un elemento a una lista: Usa el comando **`LPUSH`** o **`RPUSH`** para añadir un elemento al principio o al final de una lista, respectivamente. Por ejemplo: **`LPUSH listKey valor`**.
    -   Recuperar elementos de una lista: Use el comando **`LRANGE`** para obtener un rango de elementos de una lista. Por ejemplo: **`LRANGE listKey start end`**.
5.  Definir Operaciones:
    -   Añade elementos a un conjunto: Usa el comando **`SADD`** para añadir uno o más elementos a un conjunto. Por ejemplo: **`SADD setKey value1 value2`**.
    -   Recuperar elementos de un conjunto: Usa el comando **`SMEMBERS`** para obtener todos los miembros de un conjunto. Por ejemplo: **`SMEMBERS setKey`**.
6.  Operaciones de conjuntos ordenados:
    -   Añade elementos a un conjunto ordenado: Usa el comando **`ZADD`** para añadir elementos a un conjunto ordenado junto con sus partituras. Por ejemplo: **`ZADD sortedSetKey puntuación1 puntuación de miembro1 miembro2 member2`**.
    -   Recuperar elementos de un conjunto ordenado: Usa el comando **`ZRANGE`** para obtener un rango de elementos de un conjunto ordenado basado en sus partituras. Por ejemplo: **`ZRANGE sortedSetKey start end`**.

Nota: Puede consultar la documentación de Redis para una lista completa de comandos y su uso.

### Caso de uso

A continuación, demostraremos cómo mapear los datos de `**Upstash**` al componente `table`.

#### Paso 1 Añadir una acción

Vamos a crear una tabla en Upstash llamada **`employee_profile`,** incluyendo 4 columnas `name`, `level`, `age` y `married`.

Entonces podemos crear una nueva acción para Upstash desde la lista de acciones en ILLA Cloud y nombrar upstash2.

Para listar todos los datos en employee_profile ponga el fragmento de código de abajo en la sección de consultas de Redis.

```sql
Obtener perfil de empleado
```

Dado que los datos de salida son una lista de pares de diccionarios, queremos transformarlos en una matriz. En Transformer, actívalo y ponga el código abajo.

```jsx
const jsonString = data[0].result;

// Analiza la cadena JSON en un objeto JavaScript
const jsonData = JSON. arse(jsonString);

// Accede a la propiedad "empleados" y la mapea a una nueva matriz
const mappedArray = jsonData. mployees.map((empleado) => ({
  name: employee.name,
  level: employee. evel,
  age: employee.age,
  casried: employee.married,
}));

return mappedArray;
```

![up_code](https://cdn.illacloud.com/official-website/img/docs/up_code.jpg)

Haz clic en **`Guardar`** y **`Ejecutar`** para activar esta acción.

![up_data](https://cdn.illacloud.com/official-website/img/docs/up_data.jpg)

#### Paso 2 Añadir componentes

A continuación, podemos añadir un componente **`table`** al lienzo.

En el campo **`Fuente de datos`** en la página Inspect después de hacer clic en el componente, pon `{{upstash2.data}}` para recuperar los datos de upstash.

#### Paso 3 Prueba

El aspecto final debe ser como se muestra.

![up_test](https://cdn.illacloud.com/official-website/img/docs/up_test.jpg)

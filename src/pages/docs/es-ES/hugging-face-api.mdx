---
title: API de cara abrazada
metaTitle: Doc de integraci√≥n de la API de rostro | ILLA Cloud
desc: Aprende c√≥mo usar la API de Cara de Abuso en ILLA
tagCategory: doc_menu_hugging_face_api_click
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/213?languages=es&filter=basic&value=0
categoryName: üî® Integraciones
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>Hugging Face API</h2>

Hugging Face es el Github de la comunidad de aprendizaje de m√°quinas, con cientos de miles de modelos preformados y 10.000 conjuntos de datos disponibles actualmente. Usted puede acceder libremente a modelos y conjuntos de datos compartidos por otros expertos de la industria u hospedar y desplegar sus modelos en Hugging Face.

Algunos ejemplos de modelos disponibles en la biblioteca Hugging Face incluyen:

1.  BERT (Bidirectional Encoder Representations from Transformers): BERT es un modelo basado en transformadores desarrollado por Google para diversas tareas NLP. Ha logrado resultados de vanguardia en la comprensi√≥n del lenguaje y en las tareas de traducci√≥n autom√°tica.
2.  GPT (Generative Pre-training Transformer): GPT es otro modelo desarrollado por OpenAI. Se utiliza principalmente para tareas de generaci√≥n de idiomas, como traducci√≥n y resumen de texto.
3.  RoBERTa (Robustly Optimized BERT): RoBERTa es una extensi√≥n del modelo BERT que se desarroll√≥ para mejorar el rendimiento de BERT en varias tareas NLP.
4.  XLNet (eXtraordinary LanguageNet): XLNet es un modelo basado en transformadores desarrollado por Google que est√° dise√±ado para mejorar el rendimiento de los modelos de transformaci√≥n en tareas de comprensi√≥n del lenguaje.
5.  ALBERT (A Lite BERT): ALBERT es una versi√≥n del modelo BERT que fue desarrollado para ser m√°s eficiente y m√°s r√°pido de entrenar, manteniendo al mismo tiempo un buen rendimiento en las tareas NLP.

### Lo que puedes hacer con Hugging Face en ILLA Builder

En Hugging Face, m√°s de 130.000 modelos de aprendizaje de maquinaria est√°n disponibles a trav√©s de la API p√∫blica, que puedes usar y probar gratis en <https://huggingface.co/models>. Adem√°s, si necesitas una soluci√≥n para escenarios de producci√≥n, puedes usar Endpoints de Inferencia de Hugging Care, que pueden ser desplegados y accesibles en <https://huggingface.co/docs/inference-endpoints/index>.

ILLA Builder proporciona docenas de componentes de front-end com√∫nmente utilizados, lo que le permite construir diferentes interfaces de front-end basadas en sus necesidades espec√≠ficas r√°pidamente. Al mismo tiempo, ILLA ofrece una conexi√≥n a Hugging Face, lo que le permite conectarse r√°pidamente a la API, enviar solicitudes y recibir datos devueltos. Conectando la API y los componentes del front-end, puede implementar el requisito de que los usuarios puedan ingresar contenido a trav√©s del front-end y enviarlo a la API. La API devuelve el contenido generado que se mostrar√° en el front-end.

### Configurar la Hugging Face API resource

| Propiedades | Requerido | Descripci√≥n                                                                                       |
| ----------- | --------- | ------------------------------------------------------------------------------------------------- |
| Nombre      | requerido | Definir un nombre de recurso que se utilizar√° para mostrar en ILLA                                |
| Token       | requerido | El acceso de usuario o token de API. Puedes obtenerlo en https://huggingface.co/settings/tokens.  |

### Configurar acci√≥n

| Propiedades       | Requerido | Descripci√≥n                                                                                                                                                                                                                                                         |
| ----------------- | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ID del modelo     | requerido | Buscar modelos: https://huggingface.co/models                                                                                                                                                                                                                       |
| Tipo de par√°metro | requerido | El tipo de par√°metro de su punto final. Por ejemplo, si su punto final necesita una entrada de texto, elija rellenar el par√°metro ‚Äúentradas‚Äù con texto. Si su endpoint necesita una entrada JSON, elija rellenar el par√°metro ‚Äúentradas‚Äù con JSON o valor de clave. |
| Par√°metro         | requerido | Introduzca su par√°metro. Usa {{ componentName.value }} para usar datos de componentes.                                                                                                                                                                              |

# C√≥mo usar la cara abrazada en el Constructor de ILLA

## Usecase 1

### Paso 1: Construye la interfaz de usuario con componentes en ILLA Builder

Aqu√≠ demostraremos c√≥mo construir un texto simple que introduzca un mensaje de texto y una pregunta de texto para mostrar una respuesta de texto. 

Necesita dos componentes de textarea etiquetados como "Ingrese el texto original" y "Ingrese la pregunta aqu√≠", y el componente de bot√≥n etiquetado como "Ejecutar", y un componente de √°rea de texto etiquetado como "Anwer" para texto de salida. La siguiente imagen es un ejemplo como se describe anteriormente.

![hfapi](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi1.png)

### Paso 2: Crea un Recurso de Cara abrazando y configura las Acciones

Haga clic en + Nuevo en la lista de acciones y seleccione la API de Inferencia facial.

![hfapi2](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi2.png)

Rellena el formulario para conectarte a tu cara de abrazo:

Nombre: El nombre que se mostrar√° en ILLA

Token: Obt√©n tu Cara abrazada [configuraci√≥n de perfil](https://huggingface.co/settings/tokens)

![hfapi3](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi3.png)

Confirme la informaci√≥n del modelo en Hugging Face antes de configurar las acciones:

Selecciona un modelo en [Hugging Face Model Page](https://huggingface.co/models)

Usemos [deepset/roberta-base-squad2](https://huggingface.co/deepset/roberta-base-squad2) como ejemplo. Introduzca la p√°gina de detalles > haga clic en Desplegar > Haga clic en la API de Inferencia

![hfapi4](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi4.png)

Los par√°metros despu√©s de `‚Äúentradas‚Äù` es lo que deber√≠as rellenar en ILLA. 

![hfapi5](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi5.png)

En ILLA Builder, debemos rellenar el ID y par√°metro del modelo. Tomando el modelo anterior como ejemplo, el `‚Äúentradas‚Äù` es un par clave-valor, as√≠ que podemos rellenarlo con llave-valor o JSON. 

![hfapi6](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi6.png)

![hfapi7](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi7.png)

Y tambi√©n apoyamos la entrada de texto y la entrada binaria que puede reunir todas las conexiones API de Inferencia facial.

### Paso 3: Conectar acciones a componentes

Para pasar la entrada del front-end del usuario a la API, puedes usar {{ para recuperar los datos introducidos en el componente. Por ejemplo, input2 es el componente para introducir la pregunta e input1 es el componente para el contexto de entrada. podemos rellenar `pregunta` y `contexto` en la clave, y llenar `{{ input.value }}` en valor:

```jsx
{
"question": {{input2.value}},
"context": {{input1.value}}
}
```

Antes de mostrar los datos de salida de la Acci√≥n en el componente front-end, debemos confirmar en qu√© campo se coloca la salida de los diferentes modelos. A√∫n tomando `deepset/roberta-base-squad2` como ejemplo, los resultados son los siguientes:

![hfapi8](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi8.png)

As√≠ que podemos obtener la respuesta con `{{ textQuestion.data[0].answer }}`(la `textQuestion` es el nombre de la acci√≥n). 

![hfapi9](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi9.png)

### Demo

![hfapi10](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi10.gif)

![hfapi11](https://cdn.illacloud.com/official-website/img/docs/connect/hfapi11.gif)

## Usecase 2

Aqu√≠ demostraremos c√≥mo utilizar el modelo de Diferencia Estable a trav√©s de la Hugging Face API en Illa Cloud.

**Paso 1: Construir una interfaz de Front-end**

Construimos una interfaz front-end utilizando un enfoque de arrastrar y soltar para colocar componentes esenciales como campos de entrada, botones, im√°genes y m√°s. Despu√©s de ajustar los estilos de los componentes, obtenemos la siguiente p√°gina web completa.

![hugging_layout](https://cdn.illacloud.com/official-website/img/official-site/components/hugging_layout.png)

**Paso 2: Creando Recursos y Acciones**

Establecemos recursos y acciones mediante la utilizaci√≥n de la API de Inferencia facial de abrazo para conectarse al modelo de Diferencia Estable. Dos modelos pueden ser utilizados: `runwayml/stable-diffusion-v1-5` y `stabilityai/stable-diffusion-2-1`.

Elige la "Interferencia facial de abrazos" para este prop√≥sito.

![action_list](https://cdn.illacloud.com/official-website/img/official-site/components/action_list.png)

Proporciona un nombre para este recurso e introduce tu token desde la plataforma Hugging Face.

![hugging_config](https://cdn.illacloud.com/official-website/img/official-site/components/hugging_config.png)

En el panel de configuraci√≥n de Acci√≥n, por favor, introduzca el ID del modelo y el par√°metro. Recuperaremos el modelo seleccionado del radioGroup1, as√≠ que rellene el modelo ID como `{{radioGroup1.value}}` . Para la entrada, ya que se obtiene del campo de entrada, rellene el par√°metro como `{{input1.value}}`. La configuraci√≥n debe ser como se muestra en la siguiente imagen.

![hugging_demo](https://cdn.illacloud.com/official-website/img/official-site/components/hugging_demo.png)

Intentamos introducir "A mecha robot en una favela en estilo expresionista" en el componente `input` y ejecutar la Acci√≥n. La ejecuci√≥n resultante es la siguiente. Desde el panel izquierdo, puedes observar los datos disponibles que se pueden llamar, incluyendo `base64binary` y `dataURI`.

![hugging_output](https://cdn.illacloud.com/official-website/img/official-site/components/hugging_output.png)

**Paso 3: Mostrar datos en componentes**

Para mostrar la imagen obtenida del paso 2, modificamos la fuente de la imagen del componente de la imagen a `{{generateInput.fileData.dataURI}}`. Esto nos permitir√° mostrar la imagen generada.

![hugging_display](https://cdn.illacloud.com/official-website/img/official-site/components/hugging_display.png)

**Paso 4: Ejecutar la acci√≥n con los componentes**

Para ejecutar la acci√≥n creada en el paso 2 cuando se haga clic en el componente de bot√≥n, agregue un controlador de eventos al componente de bot√≥n.

![hugging_event_config](https://cdn.illacloud.com/official-website/img/official-site/components/hugging_event_config.png)

**Paso 5: Prueba**

Siguiendo los cuatro pasos anteriores, puede utilizar componentes y fuentes de datos adicionales para completar otras tareas y construir una herramienta m√°s completa. Por ejemplo, puede utilizar otros modelos para ayudar a generar peticiones o almacenar peticiones en localStorage o una base de datos. Echemos un vistazo al resultado completo cuando se implementen todos los pasos.

![hugging_test](https://www.youtube.com/watch?v=SwAry_jIXns)

¬°Ahora puedes jugar con ella! Pruebe otros modelos de vanguardia proporcionados por Hugging cara a trav√©s de esta API. Hay m√°s que explorar, como la descarga de modelos de animaci√≥n de difusi√≥n estable, la formaci√≥n de un estilo artista, el m√©todo de muestreo para im√°genes realistas. ¬°Puedes hacer mucho m√°s!

---
title: Elastic Search
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/367?languages=da&filter=basic&value=0
metaTitle: Elastisk S√∏gning Integration Doc ‚óè ILLA Cloud
desc: Brug ILLA Cloud til at forbinde og interagere med dine Elastiske s√∏gedata.
tagCategory: doc_menu_elastic_search_click
categoryName: üî® Integrationer
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>Hvad er Elastisk s√∏gning?</h2>

Elastisk s√∏gning er en distribueret, RESTful s√∏gning og analytics motor, der er almindeligt anvendt til at indeksere og s√∏ge store m√¶ngder af data. I Illa kan du bruge Elasticsearch datakilden til at oprette forbindelse til Elasticsearch forekomster og udf√∏re foresp√∏rgsler og aggregationer p√• dine data.

### Opret Elastisk S√∏gning

Der er to m√•der at oprette en ressource p√• i Illa efter at have logget ind p√• din Illa-konto.

-   Opret i ressourcer

Log ind p√• din Illa-konto, v√¶lg `**Ressourcer**` √∏verst p√• siden, og klik p√• `**Opret ny**` knappen.

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

V√¶lg **`Elastisk s√∏gning`** fra databaselisten.

![action_list](https://cdn.illacloud.com/official-website/img/docs/action_list.png)

Opret forbindelse til databasen med de kr√¶vede parametre, der er beskrevet i 'Forbindelsesindstillinger' nedenfor.

Klik p√• `**Test Connection**` for at se, om vi kan oprette forbindelse til databasen. Hvis ja, klik p√• **`Gem ressourcer`**, ellers dobbelttjek v√¶rtsnavn, port, brugernavn og adgangskode er korrekt.

Efter oprettelse af en ressource, vil den klar Elastic Search blive vist som vist.

![ela_ex_ready](https://cdn.illacloud.com/official-website/img/docs/ela_ex_ready.png)

-   Opret i Builder

Log ind p√• din Illa-konto, opret et projekt i Illa Builder p√• siden '**App**', og navigere til **`Action List`** nederst p√• siden. Klik p√• `**ny**`, v√¶lg derefter **`Elastisk s√∏gning`** fra databaselisten. Opret derefter forbindelse til databasen med de n√∏dvendige parametre, der er beskrevet i 'Forbindelsesindstillinger' nedenfor.

Klik p√• `**Test Connection**` for at se, om vi kan oprette forbindelse til databasen. Hvis ja, klik p√• **`Gem ressourcer`**, ellers dobbelttjek v√¶rtsnavn, port, brugernavn og adgangskode er korrekt.

### Forbindelsesindstillinger

Her skal vi give oplysninger til tilslutning til Elastic Search database.

![ela_config](https://cdn.illacloud.com/official-website/img/docs/ela_config.png)

| Egenskaber        | P√•kr√¶vet | Varebeskrivelse                                                                                       |
| ----------------- | -------- | ----------------------------------------------------------------------------------------------------- |
| Navn              | p√•kr√¶vet | Navnet p√• ressource n√•r der oprettes handlinger i ILLA.                                               |
| Hostname          | p√•kr√¶vet | URL- eller IP-adressen for din database                                                               |
| Port              | p√•kr√¶vet | Serveren v√¶rt portnummer, som du skal bruge til at forbinde.                                          |
| Database          | p√•kr√¶vet | Navnet p√• databasen                                                                                   |
| Brugernavn        | p√•kr√¶vet | det brugernavn du √∏nsker at bruge, n√•r du logger ind p√• Elastic Search server.                        |
| Adgangskode       | p√•kr√¶vet | Brug denne adgangskode til godkendelse.                                                               |
| SSL-indstillinger | valgfri  | beslutte, hvor h√∏jt en sikker SSL TCP/IP-forbindelse prioriteres under forhandlinger med serveren.    |

### Opret Handlinger

Vi har oprettet en Elastisk s√∏geressource, vi kan tilf√∏je handlingen ved at v√¶lge Elastisk S√∏g fra handlingslisten og v√¶lge **`Opret handling`**-knappen.

![ela_resource_list](https://cdn.illacloud.com/official-website/img/docs/ela_resource_list.png)

Nu har vi tilf√∏jet Elastic Search server som en handling til vores byggeside.

![ela](https://cdn.illacloud.com/official-website/img/docs/ela.png)

### Indstil Elastisk S√∏gning

#### Oversigt

| Metode Navn   | Varebeskrivelse                                                                     |
| ------------- | ----------------------------------------------------------------------------------- |
| Handling Type | s√∏g, hent et dokument, inds√¶t et dokument, opdat√©r et dokument, slet et dokument    |
| Transformator | omdanne data til den stil, du √∏nsker at bruge JavaScript                            |

#### inds√¶t et dokument

sende en HTTP PUT anmodning til Elasticsearch klynge med en JSON dokument, der indeholder de data, der skal inds√¶ttes.

** Input **

| Egenskaber  | P√•kr√¶vet | Varebeskrivelse                                                |
| ----------- | -------- | -------------------------------------------------------------- |
| Krop        | valgfri  | et JSON-dokument, der indeholder de data, der skal inds√¶ttes   |
| Indeks      | valgfri  | navn p√• det indeks, hvor dokumentet skal inds√¶ttes             |

For eksempel at inds√¶tte `v√¶rdi1`, `v√¶rdi2`, og `v√¶rdi3` i **`felt1`**, **`felt2`**, og **`field3`** i vores Elastiske s√∏gedatabase, l√¶g kodestykket nedenfor i `**Body`** og `insert2` for **`Index`\*\*.

```jsx
{
	¬§ "field1": "value1",
	¬§ "field2": "value2",
	¬§ "field3": "value3"
}
```

** Output **

Succesmeddelelse om, hvorvidt dokumentet er indsat med succes, og oplysninger om det indsatte dokument.

![ela_insert_data](https://cdn.illacloud.com/official-website/img/official-site/ela_insert_data.png)

Brug `{{insert.data}}` for at f√• beskeden.

![ela_insert_code](https://cdn.illacloud.com/official-website/img/official-site/ela_insert_code.png)

#### opdatere et dokument

afsendelse af en HTTP **`POST`** eller **`PUT`** anmodning til Elasticsearch klyngen med ID for det dokument, der skal opdateres, og et JSON dokument, der angiver de √¶ndringer, der skal foretages.

** Input **

| Egenskaber  | P√•kr√¶vet | Varebeskrivelse                                         |
| ----------- | -------- | ------------------------------------------------------- |
| Krop        | valgfri  | Den nye v√¶rdi, der skal tildeles til feltet.            |
| Indeks      | valgfri  | Navnet p√• indekset hvor dokumentet gemmes.              |
| Id          | valgfri  | Dokumentets entydige identifikator.                     |

For eksempel, for at opdatere `v√¶rdi1`, `v√¶rdi2`, og `v√¶rdi3` for **`felt1`**, **`felt2`**, og **`felt3`** i vores Elastiske s√∏gedatabase, put the code snippet below into the **`Body,`** `insert2` for **`Index`** and copy-paste the document **`Id`** from the insert message. (Automatic Copy)

```jsx
{"doc":{
	"field1": "value11",
	"field2": "value2",
	"field3": "value3"
}}
```

** Output **

Succes besked om, hvorvidt dokumentet er opdateret, og oplysninger om det opdaterede dokument.

![ela_update_data](https://cdn.illacloud.com/official-website/img/official-site/ela_update_data.jpg)

Brug `{{update.data}}` for at f√• beskeden.

![ela_update_code](https://cdn.illacloud.com/official-website/img/official-site/ela_update_code.jpg)

#### S√∏g

foresp√∏rge og hente dokumenter fra et indeks

** Input **

| Egenskaber        | P√•kr√¶vet | Varebeskrivelse                                                              |
| ----------------- | -------- | ---------------------------------------------------------------------------- |
| Foresp√∏rgsel      | valgfri  | angive den s√∏geforesp√∏rgsel, der bruges til at matche dokumenter i et indeks |
| Indeks            | valgfri  | angive navnet p√• det indeks eller indeks, der skal s√∏ges                     |

For eksempel, for at s√∏ge i databasen for at finde dokumenter med n√∏glev√¶rdi par `"field1": "value1"`, l√¶g kodestykket nedenfor i **`Query` .**

```jsx
{
	"query": {
		"match": {
			"field1": "value1"
		}
	}
}
```

** Output **

Succes besked med antallet af hits/dokumenter den finder, der matcher foresp√∏rgslen og info for hvert hit.

![ela_search_data](https://cdn.illacloud.com/official-website/img/official-site/ela_search_data.jpg)

Brug `{{search.data}}` for at f√• beskeden.

![ela_search_code](https://cdn.illacloud.com/official-website/img/official-site/ela_search_code.jpg)

#### hent et dokument

sende en HTTP **`GET`** anmodning til Elasticsearch klyngen med ID for det dokument, der skal hentes.

** Input **

| Egenskaber  | P√•kr√¶vet | Varebeskrivelse                                         |
| ----------- | -------- | ------------------------------------------------------- |
| Indeks      | valgfri  | Navnet p√• indekset hvor dokumentet gemmes.              |
| Id          | valgfri  | Dokumentets entydige identifikator.                     |

For eksempel for at f√• dokumentoplysningerne for det dokument, vi lige har opdateret, put `insert2` for **`Index`**, og kopier inds√¶t dokumentet **`Id`** fra den opdaterede besked.

** Output **

returnerer dokumentet med det angivne ID, eller en **`404 Not Found`** fejl, hvis dokumentet ikke eksisterer.

![ela_get_data](https://cdn.illacloud.com/official-website/img/official-site/ela_get_data.jpg)

Brug `{{get.data}}` for at f√• beskeden.

![ela_get_code](https://cdn.illacloud.com/official-website/img/official-site/ela_get_code.jpg)

#### slet et dokument

sende en HTTP DELETE anmodning til Elasticsearch klyngen med ID for det dokument, der skal slettes.

** Input **

| Egenskaber  | P√•kr√¶vet | Varebeskrivelse                                         |
| ----------- | -------- | ------------------------------------------------------- |
| Indeks      | valgfri  | Navnet p√• indekset hvor dokumentet gemmes.              |
| Id          | valgfri  | Dokumentets entydige identifikator.                     |

For eksempel for at slette dokumentet, skriv `insert2` for **`Index`,** og kopier inds√¶t dokumentet **`Id`** fra den opdaterede besked.

** Output **

returnerer dokumentet med det angivne ID, eller en **`404 Not Found`** fejl, hvis dokumentet ikke eksisterer.

![ela_delete_data](https://cdn.illacloud.com/official-website/img/official-site/ela_delete_data.jpg)

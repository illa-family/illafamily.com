---
title: MongoDB
crowdinRepo: https://crowdin.com/multilingual/illacloud-website/351?languages=da&filter=basic&value=0
metaTitle: MongoDB Integration Doc ‚óè ILLA Cloud
desc: L√¶r at bruge ILLA Cloud til at opbygge apps med MongoDB. Udforsk dataforesp√∏rgsler, manipulationer og visualiseringsfunktioner.
tagCategory: doc_menu_mongodb_click
categoryName: üî® Integrationer
categoryPriority: 3
postPriority: 1
---

## <h2 hidden>Hvad er MongoDB?</h2>

MongoDB er en popul√¶r NoSQL dokumentorienteret database, der er almindeligt anvendt til web-applikationer og andre data-drevet software. MongoDB er designet til at v√¶re fleksibel, skalerbar og hurtig og er s√¶rligt velegnet til h√•ndtering af store m√¶ngder ustrukturerede eller semi-strukturerede data.

I Illa kan du oprette forbindelse til en MongoDB database ved hj√¶lp af MongoDB Query Resource. Denne ressource tillader dig at udf√∏re MongoDB foresp√∏rgsler direkte fra Illa, uden at skulle skrive nogen kode. Du kan bruge foresp√∏rgselseditoren til at skrive foresp√∏rgsler i MongoDBs modersm√•l, som er baseret p√• JavaScript og bruger en JSON-lignende syntaks til at arbejde med dokumenter.

### Create MongoDB

Der er to m√•der at oprette en ressource p√• i Illa efter at have logget ind p√• din Illa-konto.

-   Opret i ressourcer

Log ind p√• din Illa-konto, v√¶lg `**Ressourcer**` √∏verst p√• siden, og klik p√• `**Opret ny**` knappen.

![external_resource](https://cdn.illacloud.com/official-website/img/docs/external_resource.png)

V√¶lg **`MongoDB`** fra databaselisten.

![action_list](https://cdn.illacloud.com/official-website/img/docs/action_list.png)

Opret forbindelse til databasen med de kr√¶vede parametre, der er beskrevet i 'Forbindelsesindstillinger' nedenfor.

Klik p√• `**Test Connection**` for at se, om vi kan oprette forbindelse til databasen. Hvis ja, klik p√• **`Gem ressourcer`**, ellers dobbelttjek v√¶rtsnavn, port, brugernavn og adgangskode er korrekt.

N√•r du har oprettet en ressource, vil MongoDB v√¶re klar som vist.

![mongo_ex_ready](https://cdn.illacloud.com/official-website/img/docs/mongo_ex_ready.png)

-   Opret i Builder

Log ind p√• din Illa-konto, opret et projekt i Illa Builder p√• siden '**App**', og navigere til **`Action List`** nederst p√• siden. Klik p√• `**ny**`, v√¶lg derefter **`MongoDB`** fra databaselisten. Opret derefter forbindelse til databasen med de n√∏dvendige parametre, der er beskrevet i 'Forbindelsesindstillinger' nedenfor.

Klik p√• `**Test Connection**` for at se, om vi kan oprette forbindelse til databasen. Hvis ja, klik p√• **`Gem ressourcer`**, ellers dobbelttjek v√¶rtsnavn, port, brugernavn og adgangskode er korrekt.

### Forbindelsesindstillinger

Her er vi n√∏dt til at give oplysninger til tilslutning til MongoDB database.

![mongo_config](https://cdn.illacloud.com/official-website/img/docs/mongo_config.png)

| Egenskaber                | P√•kr√¶vet | Varebeskrivelse                                                                                                                   |
| ------------------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------- |
| Navn                      | p√•kr√¶vet | Navnet p√• ressource n√•r der oprettes handlinger i ILLA.                                                                           |
| Konfigurations Type       | valgfri  | en type indsamling, der bruges til at lagre konfigurationsdata for sharded klynger.                                               |
| Hostname                  | p√•kr√¶vet | URL- eller IP-adressen for din database                                                                                           |
| Forbindelsesformat        | p√•kr√¶vet | den syntaks, der bruges til at angive forbindelsesstrengen for forbindelse til en MongoDB database eller klynge.                  |
| Port                      | p√•kr√¶vet | Serveren v√¶rt portnummer, som du skal bruge til at forbinde. Hvis du ikke angiver en port, er standard port '3306'.               |
| Database                  | p√•kr√¶vet | Navnet p√• databasen                                                                                                               |
| Brugernavn                | p√•kr√¶vet | det brugernavn du √∏nsker at bruge, n√•r du logger p√• MongoDB-serveren.                                                             |
| Adgangskode               | p√•kr√¶vet | Brug denne adgangskode til godkendelse.                                                                                           |
| SSL-indstillinger         | valgfri  | beslutte, hvor h√∏jt en sikker SSL TCP/IP-forbindelse prioriteres under forhandlinger med serveren.                                |

### Opret Handlinger

Vi har oprettet en MongoDB-ressource, vi kan tilf√∏je handlingen ved at v√¶lge MongoDB fra handlingslisten og v√¶lge **`Opret handling`**-knappen.

![mongo_resource_list](https://cdn.illacloud.com/official-website/img/docs/mongo_resource_list.png)

Nu har vi tilf√∏jet MongoDB serveren som en handling til vores byggeside.

![mongodb](https://cdn.illacloud.com/official-website/img/docs/mongodb.png)

### Configure MongoDB

#### Oversigt

| Metode Navn   | Varebeskrivelse                                                                 |
| ------------- | ------------------------------------------------------------------------------- |
| Handling Type | aggregate, bulkwrite, count, deleteMany. deleteOne, adskilt, finde, findOne     |
| Samling       | gruppe af relaterede dokumenter, der lagres sammen i en database                |
| Transformator | omdanne data til den stil, du √∏nsker at bruge JavaScript                        |

#### Sammenlagt

behandle flere dokumenter og returnere beregnede resultater.

** Input **

| Egenskaber    | P√•kr√¶vet | Varebeskrivelse                                        |
| ------------- | -------- | ------------------------------------------------------ |
| Sammenl√¶gning | valgfri  | definerer de operationer, der skal udf√∏res p√• dataene  |

For eksempel, for at f√• alle de resultater, hvis st√∏rrelse er medium=>gruppe resultaterne efter type=>Beregn summen af priser i hver type for **`Sammenl√¶gning`**:

```sql
[
	{
		"$match": { "size": "medium" }
	},
	{
		"$group": { "_id": "$type", "totalQuantity": { "$sum": "$price" } }
	}
]
```

** Output **

En r√¶kke af de beregnede resultater.

![mongo_agg_data](https://cdn.illacloud.com/official-website/img/docs/mongo_agg_data.png)

Brug `{{mongodb1.data[0].result}}` for at f√• alle.

![mongo_agg_code](https://cdn.illacloud.com/official-website/img/docs/mongo_agg_code.png)

#### Bulkwrite

udf√∏re flere skriveoperationer (inds√¶tte, opdatere og slette) i en enkelt anmodning til serveren

** Input **

| Egenskaber  | P√•kr√¶vet | Varebeskrivelse                                                                                  |
| ----------- | -------- | ------------------------------------------------------------------------------------------------ |
| Operationer | valgfri  | et objekt, der angiver, hvilken type operation der skal udf√∏res, og hvilke data der skal skrives |

Et eksempel for **`Operationer`**:

```sql
[
	{ "insertOne": { "document": { "_id": 3, "type": "beef", "size": "medium", "price": 6 } } },
	{ "insertOne": { "document": { "_id": 4, "type": "sausage", "size": "large", "price": 10 } } },
	{ "updateOne": {
			"filter": { "type": "cheese" },
			"update": { "$set": { "price": 8 } }
		}
	}
]
```

** Output **

Den opdaterede besked vises nedenfor.

![mongo_bulk_data](https://cdn.illacloud.com/official-website/img/docs/mongo_bulk_data.png)

Da denne metode foretager √¶ndringer, men returnerer ikke noget. Der er ingen output-data at f√• adgang til.

#### Antal

t√¶ller antallet af dokumenter, der matcher en given foresp√∏rgsel i en samling

** Input **

| Egenskaber        | P√•kr√¶vet | Varebeskrivelse                                              |
| ----------------- | -------- | ------------------------------------------------------------ |
| Foresp√∏rgsel      | valgfri  | angiver udv√¶lgelseskriterierne for opt√¶llingen               |

For eksempel, for at t√¶lle antallet af elementer med typen ‚Äúoksek√∏d‚Äù, kan vi s√¶tte under koden i **`Foresp√∏rgsel`**:

```sql
{"type":"beef"}
```

** Output **

Antallet af matchende dokumenter.

![mongo_count_data](https://cdn.illacloud.com/official-website/img/docs/mongo_count_data.png)

Brug `{{mongodb1.data}}` for at f√• det.

![mongo_count_code](https://cdn.illacloud.com/official-website/img/docs/mongo_count_code.png)

#### deleMange

slet flere dokumenter, der matcher et givet filter i en samling.

** Input **

| Egenskaber  | P√•kr√¶vet | Varebeskrivelse                                                                                                                    |
| ----------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------- |
| Filtrer     | valgfri  | angiver udv√¶lgelseskriterierne for sletningen, Hvis ikke angivet, vil alle dokumenter i denne samling blive slettet.               |

For eksempel, for at slette √¶bler fra elementer. Vi kan skrive koden nedenfor til **`Filter`**.

```sql
 {"type":"apple"}
```

** Output **

Antallet af matchende dokumenter.

![mongo_delete2_data](https://cdn.illacloud.com/official-website/img/docs/mongo_delete2_data.png)

Brug `{{mongodb1.data[0].result.DeletedCount}}` for at f√• det. Hvis ingen filer matches, vil den returnerede v√¶rdi v√¶re 0.

![mongo_delete2_code](https://cdn.illacloud.com/official-website/img/docs/mongo_delete2_code.png)

#### deleteOne

slet et dokument, der matcher et givet filter i en samling.

** Input **

| Egenskaber  | P√•kr√¶vet | Varebeskrivelse                                               |
| ----------- | -------- | ------------------------------------------------------------- |
| Filtrer     | valgfri  | angiver udv√¶lgelseskriterierne for sletningen                 |

For eksempel for at slette et √¶ble fra elementer. Vi kan skrive koden nedenfor til **`Filter`**.

```sql
 {"type":"apple"}
```

** Output **

Slet resultat.

![mongo_delete1_data](https://cdn.illacloud.com/official-website/img/docs/mongo_delete1_data.png)

Brug `{{mongodb1.data[0].result.DeletedCount}}` for at f√• det. Hvis ingen filer matches, vil den returnerede v√¶rdi v√¶re 0 (Since vi slettede alle √¶blerne i **`deleteMany`**, der er ingen √¶ble tilbage, s√• returnerer 0).

![mongo_delete1_code](https://cdn.illacloud.com/official-website/img/docs/mongo_delete1_code.png)

#### s√¶rskilt

hente et array af unikke v√¶rdier for et bestemt felt i en samling

** Input **

| Egenskaber        | P√•kr√¶vet | Varebeskrivelse                                                     |
| ----------------- | -------- | ------------------------------------------------------------------- |
| Foresp√∏rgsel      | valgfri  | angiver udv√¶lgelseskriterierne for den s√¶rskilte operation          |
| Felt              | p√•kr√¶vet | angiver, hvilket felt der skal hentes fra de forskellige v√¶rdier.   |

For eksempel kan vi have `{"type":"orange"}` for **`Query`** og `_id` for **`Field`**.

** Output **

et array af forskellige v√¶rdier

![mongo_dist_data](https://cdn.illacloud.com/official-website/img/docs/mongo_dist_data.png)

Brug `{{mongodb1.data[0].result.map(item =>({"result":item}))}}` for at f√• arrayet.

![mongo_dist_code](https://cdn.illacloud.com/official-website/img/docs/mongo_dist_code.png)

#### find

hente dokumenter fra en samling, der matcher et specificeret s√¶t af kriterier

** Input **

| Egenskaber        | P√•kr√¶vet | Varebeskrivelse                                                                                                              |
| ----------------- | -------- | ---------------------------------------------------------------------------------------------------------------------------- |
| Foresp√∏rgsel      | valgfri  | angiver udv√¶lgelseskriterierne for find operationen                                                                          |
| Projektion        | valgfri  | angiver, hvilke felter der skal medtages eller udelades i foresp√∏rgselsresultaterne                                          |
| Sort√©r Efter      | valgfri  | angive sorteringsr√¶kkef√∏lgen for de returnerede dokumenter                                                                   |
| Gr√¶nse            | valgfri  | begr√¶nse antallet af dokumenter der returneres, standard ingen gr√¶nse. En gr√¶nse p√• 0 svarer til ingen gr√¶nse.               |
| Overspring        | valgfri  | angive antallet af dokumenter der skal springes over, standard til 0.                                                        |

For eksempel for at finde den id, pris, og type af alle appelsiner sorteret efter deres id.

For **`Query`**, `{"type": "orange"}`

For **`Projektion`**, `{"_id": 1, "type": 1, "pris": 1}`
For **`Sort By`**, `{"_id":1}`

Bem√¶rk: Udskift ‚Äú1‚Äù med ‚Äúsand‚Äù stadig g√∏re det!

** Output **

En vifte af objekter af dokumenter

![mongo_find_data](https://cdn.illacloud.com/official-website/img/docs/mongo_find_data.png)

Brug `{{mongodb1.data[0].result}}` for at f√• arrayet.

![mongo_find_code](https://cdn.illacloud.com/official-website/img/docs/mongo_find_code.png)

#### findOne

hente det f√∏rste dokument fra en samling, der matcher et angivet s√¶t af kriterier

** Input **

| Egenskaber        | P√•kr√¶vet | Varebeskrivelse                                                                     |
| ----------------- | -------- | ----------------------------------------------------------------------------------- |
| Foresp√∏rgsel      | valgfri  | angiver udv√¶lgelseskriterierne for find operationen                                 |
| Projektion        | valgfri  | angiver, hvilke felter der skal medtages eller udelades i foresp√∏rgselsresultaterne |
| Overspring        | valgfri  | angive antallet af dokumenter der skal springes over, standard til 0.               |

For eksempel for at finde den id, pris, og type af alle appelsiner sorteret efter deres id.

For **`Query`**, `{"type": "orange"}`

For **`Projektion`**, `{"_id": 1, "type": 1, "pris": 1}`

Bem√¶rk: Udskift ‚Äú1‚Äù med ‚Äúsand‚Äù stadig g√∏re det!

** Output **

En vifte af objekter af dokumenter

![mongo_find1_data](https://cdn.illacloud.com/official-website/img/docs/mongo_find1_data.png)

Brug `{{[mongodb1.data[0].result]}}` for at f√• arrayet.

![mongo_find1_code](https://cdn.illacloud.com/official-website/img/docs/mongo_find1_code.png)
